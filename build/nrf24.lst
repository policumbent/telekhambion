ARM GAS  /tmp/ccSBQZez.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"nrf24.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Drivers/NRF24/nrf24.c"
  18              		.section	.text.nRF24_LL_RW,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.code	16
  22              		.thumb_func
  24              	nRF24_LL_RW:
  25              	.LVL0:
  26              	.LFB44:
  27              		.file 2 "Core/Inc/NRF24_support.h"
   1:Core/Inc/NRF24_support.h **** #ifndef __SUPPORT_H
   2:Core/Inc/NRF24_support.h **** #define __SUPPORT_H
   3:Core/Inc/NRF24_support.h **** 
   4:Core/Inc/NRF24_support.h **** #include "main.h"
   5:Core/Inc/NRF24_support.h **** 
   6:Core/Inc/NRF24_support.h **** #ifdef USE_HAL_DRIVER
   7:Core/Inc/NRF24_support.h **** extern SPI_HandleTypeDef hspi1;
   8:Core/Inc/NRF24_support.h **** 
   9:Core/Inc/NRF24_support.h **** 
  10:Core/Inc/NRF24_support.h **** static inline void nRF24_CE_L() {
  11:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CE_GPIO_Port, NRF_CE_Pin, GPIO_PIN_RESET);
  12:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
  13:Core/Inc/NRF24_support.h **** }
  14:Core/Inc/NRF24_support.h **** 
  15:Core/Inc/NRF24_support.h **** static inline void nRF24_CE_H() {
  16:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CE_GPIO_Port, NRF_CE_Pin, GPIO_PIN_SET);
  17:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
  18:Core/Inc/NRF24_support.h **** }
  19:Core/Inc/NRF24_support.h **** 
  20:Core/Inc/NRF24_support.h **** static inline void nRF24_CSN_L() {
  21:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
  22:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
  23:Core/Inc/NRF24_support.h **** }
  24:Core/Inc/NRF24_support.h **** 
  25:Core/Inc/NRF24_support.h **** static inline void nRF24_CSN_H() {
  26:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
  27:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
  28:Core/Inc/NRF24_support.h **** }
  29:Core/Inc/NRF24_support.h **** 
  30:Core/Inc/NRF24_support.h **** 
  31:Core/Inc/NRF24_support.h **** static inline uint8_t nRF24_LL_RW(uint8_t data) {
ARM GAS  /tmp/ccSBQZez.s 			page 2


  28              		.loc 2 31 49 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 2 31 49 is_stmt 0 view .LVU1
  33 0000 00B5     		push	{lr}
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 14, -4
  36 0002 87B0     		sub	sp, sp, #28
  37              		.cfi_def_cfa_offset 32
  38 0004 0F21     		movs	r1, #15
  39 0006 6944     		add	r1, r1, sp
  40 0008 0870     		strb	r0, [r1]
  32:Core/Inc/NRF24_support.h ****     // Wait until TX buffer is empty
  33:Core/Inc/NRF24_support.h ****     uint8_t result;
  41              		.loc 2 33 5 is_stmt 1 view .LVU2
  34:Core/Inc/NRF24_support.h ****     HAL_StatusTypeDef spi_return;
  42              		.loc 2 34 5 view .LVU3
  35:Core/Inc/NRF24_support.h ****     spi_return = HAL_SPI_TransmitReceive(&hspi1,&data,&result,1,2000);
  43              		.loc 2 35 5 view .LVU4
  44              		.loc 2 35 18 is_stmt 0 view .LVU5
  45 000a 0948     		ldr	r0, .L4
  46              	.LVL1:
  47              		.loc 2 35 18 view .LVU6
  48 000c FA23     		movs	r3, #250
  49 000e DB00     		lsls	r3, r3, #3
  50 0010 0093     		str	r3, [sp]
  51              	.LVL2:
  52              		.loc 2 35 18 view .LVU7
  53 0012 0123     		movs	r3, #1
  54 0014 1722     		movs	r2, #23
  55 0016 6A44     		add	r2, r2, sp
  56 0018 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  57              	.LVL3:
  36:Core/Inc/NRF24_support.h ****     if(spi_return!=HAL_OK) {
  58              		.loc 2 36 5 is_stmt 1 view .LVU8
  59              		.loc 2 36 7 is_stmt 0 view .LVU9
  60 001c 0028     		cmp	r0, #0
  61 001e 04D1     		bne	.L3
  62              	.LVL4:
  63              	.L2:
  37:Core/Inc/NRF24_support.h ****         Error_Handler();
  38:Core/Inc/NRF24_support.h ****     };
  64              		.loc 2 38 6 is_stmt 1 view .LVU10
  39:Core/Inc/NRF24_support.h ****     return result;
  65              		.loc 2 39 5 view .LVU11
  66              		.loc 2 39 12 is_stmt 0 view .LVU12
  67 0020 1723     		movs	r3, #23
  68 0022 6B44     		add	r3, r3, sp
  69 0024 1878     		ldrb	r0, [r3]
  40:Core/Inc/NRF24_support.h **** }
  70              		.loc 2 40 1 view .LVU13
  71 0026 07B0     		add	sp, sp, #28
  72              		@ sp needed
  73 0028 00BD     		pop	{pc}
  74              	.LVL5:
  75              	.L3:
ARM GAS  /tmp/ccSBQZez.s 			page 3


  37:Core/Inc/NRF24_support.h ****         Error_Handler();
  76              		.loc 2 37 9 is_stmt 1 view .LVU14
  77 002a FFF7FEFF 		bl	Error_Handler
  78              	.LVL6:
  37:Core/Inc/NRF24_support.h ****         Error_Handler();
  79              		.loc 2 37 9 is_stmt 0 view .LVU15
  80 002e F7E7     		b	.L2
  81              	.L5:
  82              		.align	2
  83              	.L4:
  84 0030 00000000 		.word	hspi1
  85              		.cfi_endproc
  86              	.LFE44:
  88              		.section	.text.nRF24_WriteReg,"ax",%progbits
  89              		.align	1
  90              		.syntax unified
  91              		.code	16
  92              		.thumb_func
  94              	nRF24_WriteReg:
  95              	.LVL7:
  96              	.LFB47:
   1:Drivers/NRF24/nrf24.c **** // Functions to manage the nRF24L01+ transceiver
   2:Drivers/NRF24/nrf24.c **** 
   3:Drivers/NRF24/nrf24.c **** #include "nrf24.h"
   4:Drivers/NRF24/nrf24.c **** 
   5:Drivers/NRF24/nrf24.c **** // Read a register
   6:Drivers/NRF24/nrf24.c **** // input:
   7:Drivers/NRF24/nrf24.c **** //   reg - number of register to read
   8:Drivers/NRF24/nrf24.c **** // return: value of register
   9:Drivers/NRF24/nrf24.c **** static uint8_t nRF24_ReadReg(uint8_t reg) {
  10:Drivers/NRF24/nrf24.c **** 	uint8_t value;
  11:Drivers/NRF24/nrf24.c **** 
  12:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
  13:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(reg & nRF24_MASK_REG_MAP);
  14:Drivers/NRF24/nrf24.c **** 	value = nRF24_LL_RW(nRF24_CMD_NOP);
  15:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
  16:Drivers/NRF24/nrf24.c **** 
  17:Drivers/NRF24/nrf24.c **** 	return value;
  18:Drivers/NRF24/nrf24.c **** }
  19:Drivers/NRF24/nrf24.c **** 
  20:Drivers/NRF24/nrf24.c **** // Write a new value to register
  21:Drivers/NRF24/nrf24.c **** // input:
  22:Drivers/NRF24/nrf24.c **** //   reg - number of register to write
  23:Drivers/NRF24/nrf24.c **** //   value - value to write
  24:Drivers/NRF24/nrf24.c **** static void nRF24_WriteReg(uint8_t reg, uint8_t value) {
  97              		.loc 1 24 56 is_stmt 1 view -0
  98              		.cfi_startproc
  99              		@ args = 0, pretend = 0, frame = 0
 100              		@ frame_needed = 0, uses_anonymous_args = 0
 101              		.loc 1 24 56 is_stmt 0 view .LVU17
 102 0000 70B5     		push	{r4, r5, r6, lr}
 103              		.cfi_def_cfa_offset 16
 104              		.cfi_offset 4, -16
 105              		.cfi_offset 5, -12
 106              		.cfi_offset 6, -8
 107              		.cfi_offset 14, -4
 108 0002 0400     		movs	r4, r0
ARM GAS  /tmp/ccSBQZez.s 			page 4


 109 0004 0D00     		movs	r5, r1
  25:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
 110              		.loc 1 25 2 is_stmt 1 view .LVU18
 111              	.LBB36:
 112              	.LBI36:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 113              		.loc 2 20 20 view .LVU19
 114              	.LBB37:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 115              		.loc 2 21 5 view .LVU20
 116 0006 A020     		movs	r0, #160
 117              	.LVL8:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 118              		.loc 2 21 5 is_stmt 0 view .LVU21
 119 0008 0022     		movs	r2, #0
 120 000a 0221     		movs	r1, #2
 121              	.LVL9:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 122              		.loc 2 21 5 view .LVU22
 123 000c C005     		lsls	r0, r0, #23
 124 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 125              	.LVL10:
 126              	.LBE37:
 127              	.LBE36:
  26:Drivers/NRF24/nrf24.c **** 	if (reg < nRF24_CMD_W_REGISTER) {
 128              		.loc 1 26 2 is_stmt 1 view .LVU23
 129              		.loc 1 26 5 is_stmt 0 view .LVU24
 130 0012 1F2C     		cmp	r4, #31
 131 0014 10D8     		bhi	.L7
  27:Drivers/NRF24/nrf24.c **** 		// This is a register access
  28:Drivers/NRF24/nrf24.c **** 		nRF24_LL_RW(nRF24_CMD_W_REGISTER | (reg & nRF24_MASK_REG_MAP));
 132              		.loc 1 28 3 is_stmt 1 view .LVU25
 133 0016 1F20     		movs	r0, #31
 134 0018 2040     		ands	r0, r4
 135 001a 2023     		movs	r3, #32
 136 001c 1843     		orrs	r0, r3
 137 001e C0B2     		uxtb	r0, r0
 138 0020 FFF7FEFF 		bl	nRF24_LL_RW
 139              	.LVL11:
  29:Drivers/NRF24/nrf24.c **** 		nRF24_LL_RW(value);
 140              		.loc 1 29 3 view .LVU26
 141 0024 2800     		movs	r0, r5
 142 0026 FFF7FEFF 		bl	nRF24_LL_RW
 143              	.LVL12:
 144              	.L8:
  30:Drivers/NRF24/nrf24.c **** 	} else {
  31:Drivers/NRF24/nrf24.c **** 		// This is a single byte command or future command/register
  32:Drivers/NRF24/nrf24.c **** 		nRF24_LL_RW(reg);
  33:Drivers/NRF24/nrf24.c **** 		if ((reg != nRF24_CMD_FLUSH_TX) && (reg != nRF24_CMD_FLUSH_RX) && \
  34:Drivers/NRF24/nrf24.c **** 				(reg != nRF24_CMD_REUSE_TX_PL) && (reg != nRF24_CMD_NOP)) {
  35:Drivers/NRF24/nrf24.c **** 			// Send register value
  36:Drivers/NRF24/nrf24.c **** 			nRF24_LL_RW(value);
  37:Drivers/NRF24/nrf24.c **** 		}
  38:Drivers/NRF24/nrf24.c **** 	}
  39:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 145              		.loc 1 39 2 view .LVU27
 146              	.LBB38:
ARM GAS  /tmp/ccSBQZez.s 			page 5


 147              	.LBI38:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 148              		.loc 2 25 20 view .LVU28
 149              	.LBB39:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 150              		.loc 2 26 5 view .LVU29
 151 002a A020     		movs	r0, #160
 152 002c 0122     		movs	r2, #1
 153 002e 0221     		movs	r1, #2
 154 0030 C005     		lsls	r0, r0, #23
 155 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 156              	.LVL13:
 157              	.LBE39:
 158              	.LBE38:
  40:Drivers/NRF24/nrf24.c **** }
 159              		.loc 1 40 1 is_stmt 0 view .LVU30
 160              		@ sp needed
 161              	.LVL14:
 162              	.LVL15:
 163              		.loc 1 40 1 view .LVU31
 164 0036 70BD     		pop	{r4, r5, r6, pc}
 165              	.L7:
  32:Drivers/NRF24/nrf24.c **** 		if ((reg != nRF24_CMD_FLUSH_TX) && (reg != nRF24_CMD_FLUSH_RX) && \
 166              		.loc 1 32 3 is_stmt 1 view .LVU32
 167 0038 2000     		movs	r0, r4
 168 003a FFF7FEFF 		bl	nRF24_LL_RW
 169              	.LVL16:
  33:Drivers/NRF24/nrf24.c **** 				(reg != nRF24_CMD_REUSE_TX_PL) && (reg != nRF24_CMD_NOP)) {
 170              		.loc 1 33 3 view .LVU33
  33:Drivers/NRF24/nrf24.c **** 				(reg != nRF24_CMD_REUSE_TX_PL) && (reg != nRF24_CMD_NOP)) {
 171              		.loc 1 33 66 is_stmt 0 view .LVU34
 172 003e 2300     		movs	r3, r4
 173 0040 1F33     		adds	r3, r3, #31
 174 0042 DBB2     		uxtb	r3, r3
  33:Drivers/NRF24/nrf24.c **** 				(reg != nRF24_CMD_REUSE_TX_PL) && (reg != nRF24_CMD_NOP)) {
 175              		.loc 1 33 6 view .LVU35
 176 0044 022B     		cmp	r3, #2
 177 0046 F0D9     		bls	.L8
  34:Drivers/NRF24/nrf24.c **** 			// Send register value
 178              		.loc 1 34 36 view .LVU36
 179 0048 FF2C     		cmp	r4, #255
 180 004a EED0     		beq	.L8
  36:Drivers/NRF24/nrf24.c **** 		}
 181              		.loc 1 36 4 is_stmt 1 view .LVU37
 182 004c 2800     		movs	r0, r5
 183 004e FFF7FEFF 		bl	nRF24_LL_RW
 184              	.LVL17:
 185 0052 EAE7     		b	.L8
 186              		.cfi_endproc
 187              	.LFE47:
 189              		.section	.text.nRF24_WriteMBReg,"ax",%progbits
 190              		.align	1
 191              		.syntax unified
 192              		.code	16
 193              		.thumb_func
 195              	nRF24_WriteMBReg:
 196              	.LVL18:
ARM GAS  /tmp/ccSBQZez.s 			page 6


 197              	.LFB49:
  41:Drivers/NRF24/nrf24.c **** 
  42:Drivers/NRF24/nrf24.c **** // Read a multi-byte register
  43:Drivers/NRF24/nrf24.c **** // input:
  44:Drivers/NRF24/nrf24.c **** //   reg - number of register to read
  45:Drivers/NRF24/nrf24.c **** //   pBuf - pointer to the buffer for register data
  46:Drivers/NRF24/nrf24.c **** //   count - number of bytes to read
  47:Drivers/NRF24/nrf24.c **** static void nRF24_ReadMBReg(uint8_t reg, uint8_t *pBuf, uint8_t count) {
  48:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
  49:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(reg);
  50:Drivers/NRF24/nrf24.c **** 	while (count--) {
  51:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
  52:Drivers/NRF24/nrf24.c **** 	}
  53:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
  54:Drivers/NRF24/nrf24.c **** }
  55:Drivers/NRF24/nrf24.c **** 
  56:Drivers/NRF24/nrf24.c **** // Write a multi-byte register
  57:Drivers/NRF24/nrf24.c **** // input:
  58:Drivers/NRF24/nrf24.c **** //   reg - number of register to write
  59:Drivers/NRF24/nrf24.c **** //   pBuf - pointer to the buffer with data to write
  60:Drivers/NRF24/nrf24.c **** //   count - number of bytes to write
  61:Drivers/NRF24/nrf24.c **** static void nRF24_WriteMBReg(uint8_t reg, uint8_t *pBuf, uint8_t count) {
 198              		.loc 1 61 73 view -0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              		.loc 1 61 73 is_stmt 0 view .LVU39
 203 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 204              		.cfi_def_cfa_offset 24
 205              		.cfi_offset 3, -24
 206              		.cfi_offset 4, -20
 207              		.cfi_offset 5, -16
 208              		.cfi_offset 6, -12
 209              		.cfi_offset 7, -8
 210              		.cfi_offset 14, -4
 211 0002 0400     		movs	r4, r0
 212 0004 0E00     		movs	r6, r1
 213 0006 1500     		movs	r5, r2
  62:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
 214              		.loc 1 62 2 is_stmt 1 view .LVU40
 215              	.LBB40:
 216              	.LBI40:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 217              		.loc 2 20 20 view .LVU41
 218              	.LBB41:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 219              		.loc 2 21 5 view .LVU42
 220 0008 A020     		movs	r0, #160
 221              	.LVL19:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 222              		.loc 2 21 5 is_stmt 0 view .LVU43
 223 000a 0022     		movs	r2, #0
 224              	.LVL20:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 225              		.loc 2 21 5 view .LVU44
 226 000c 0221     		movs	r1, #2
 227              	.LVL21:
ARM GAS  /tmp/ccSBQZez.s 			page 7


  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 228              		.loc 2 21 5 view .LVU45
 229 000e C005     		lsls	r0, r0, #23
 230 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 231              	.LVL22:
 232              	.LBE41:
 233              	.LBE40:
  63:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(reg);
 234              		.loc 1 63 2 is_stmt 1 view .LVU46
 235 0014 2000     		movs	r0, r4
 236 0016 FFF7FEFF 		bl	nRF24_LL_RW
 237              	.LVL23:
  64:Drivers/NRF24/nrf24.c **** 	while (count--) {
 238              		.loc 1 64 2 view .LVU47
 239              		.loc 1 64 8 is_stmt 0 view .LVU48
 240 001a 05E0     		b	.L10
 241              	.LVL24:
 242              	.L11:
  65:Drivers/NRF24/nrf24.c **** 		nRF24_LL_RW(*pBuf++);
 243              		.loc 1 65 3 is_stmt 1 view .LVU49
 244              		.loc 1 65 20 is_stmt 0 view .LVU50
 245 001c 771C     		adds	r7, r6, #1
 246              	.LVL25:
 247              		.loc 1 65 3 view .LVU51
 248 001e 3078     		ldrb	r0, [r6]
 249 0020 FFF7FEFF 		bl	nRF24_LL_RW
 250              	.LVL26:
  64:Drivers/NRF24/nrf24.c **** 	while (count--) {
 251              		.loc 1 64 14 view .LVU52
 252 0024 2500     		movs	r5, r4
 253              		.loc 1 65 20 view .LVU53
 254 0026 3E00     		movs	r6, r7
 255              	.LVL27:
 256              	.L10:
  64:Drivers/NRF24/nrf24.c **** 	while (count--) {
 257              		.loc 1 64 9 is_stmt 1 view .LVU54
  64:Drivers/NRF24/nrf24.c **** 	while (count--) {
 258              		.loc 1 64 14 is_stmt 0 view .LVU55
 259 0028 6C1E     		subs	r4, r5, #1
 260 002a E4B2     		uxtb	r4, r4
 261              	.LVL28:
  64:Drivers/NRF24/nrf24.c **** 	while (count--) {
 262              		.loc 1 64 9 view .LVU56
 263 002c 002D     		cmp	r5, #0
 264 002e F5D1     		bne	.L11
  66:Drivers/NRF24/nrf24.c **** 	}
  67:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 265              		.loc 1 67 2 is_stmt 1 view .LVU57
 266              	.LBB42:
 267              	.LBI42:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 268              		.loc 2 25 20 view .LVU58
 269              	.LBB43:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 270              		.loc 2 26 5 view .LVU59
 271 0030 A020     		movs	r0, #160
 272 0032 0122     		movs	r2, #1
ARM GAS  /tmp/ccSBQZez.s 			page 8


 273 0034 0221     		movs	r1, #2
 274 0036 C005     		lsls	r0, r0, #23
 275 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 276              	.LVL29:
 277              	.LBE43:
 278              	.LBE42:
  68:Drivers/NRF24/nrf24.c **** }
 279              		.loc 1 68 1 is_stmt 0 view .LVU60
 280              		@ sp needed
 281              	.LVL30:
 282              	.LVL31:
 283              	.LVL32:
 284              		.loc 1 68 1 view .LVU61
 285 003c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 286              		.cfi_endproc
 287              	.LFE49:
 289              		.section	.text.nRF24_ReadMBReg,"ax",%progbits
 290              		.align	1
 291              		.syntax unified
 292              		.code	16
 293              		.thumb_func
 295              	nRF24_ReadMBReg:
 296              	.LVL33:
 297              	.LFB48:
  47:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
 298              		.loc 1 47 72 is_stmt 1 view -0
 299              		.cfi_startproc
 300              		@ args = 0, pretend = 0, frame = 0
 301              		@ frame_needed = 0, uses_anonymous_args = 0
  47:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
 302              		.loc 1 47 72 is_stmt 0 view .LVU63
 303 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 304              		.cfi_def_cfa_offset 24
 305              		.cfi_offset 3, -24
 306              		.cfi_offset 4, -20
 307              		.cfi_offset 5, -16
 308              		.cfi_offset 6, -12
 309              		.cfi_offset 7, -8
 310              		.cfi_offset 14, -4
 311 0002 0400     		movs	r4, r0
 312 0004 0E00     		movs	r6, r1
 313 0006 1500     		movs	r5, r2
  48:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(reg);
 314              		.loc 1 48 2 is_stmt 1 view .LVU64
 315              	.LBB44:
 316              	.LBI44:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 317              		.loc 2 20 20 view .LVU65
 318              	.LBB45:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 319              		.loc 2 21 5 view .LVU66
 320 0008 A020     		movs	r0, #160
 321              	.LVL34:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 322              		.loc 2 21 5 is_stmt 0 view .LVU67
 323 000a 0022     		movs	r2, #0
 324              	.LVL35:
ARM GAS  /tmp/ccSBQZez.s 			page 9


  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 325              		.loc 2 21 5 view .LVU68
 326 000c 0221     		movs	r1, #2
 327              	.LVL36:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 328              		.loc 2 21 5 view .LVU69
 329 000e C005     		lsls	r0, r0, #23
 330 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 331              	.LVL37:
 332              	.LBE45:
 333              	.LBE44:
  49:Drivers/NRF24/nrf24.c **** 	while (count--) {
 334              		.loc 1 49 2 is_stmt 1 view .LVU70
 335 0014 2000     		movs	r0, r4
 336 0016 FFF7FEFF 		bl	nRF24_LL_RW
 337              	.LVL38:
  50:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
 338              		.loc 1 50 2 view .LVU71
  50:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
 339              		.loc 1 50 8 is_stmt 0 view .LVU72
 340 001a 06E0     		b	.L13
 341              	.LVL39:
 342              	.L14:
  51:Drivers/NRF24/nrf24.c **** 	}
 343              		.loc 1 51 3 is_stmt 1 view .LVU73
  51:Drivers/NRF24/nrf24.c **** 	}
 344              		.loc 1 51 8 is_stmt 0 view .LVU74
 345 001c 771C     		adds	r7, r6, #1
 346              	.LVL40:
  51:Drivers/NRF24/nrf24.c **** 	}
 347              		.loc 1 51 13 view .LVU75
 348 001e FF20     		movs	r0, #255
 349 0020 FFF7FEFF 		bl	nRF24_LL_RW
 350              	.LVL41:
  51:Drivers/NRF24/nrf24.c **** 	}
 351              		.loc 1 51 11 discriminator 1 view .LVU76
 352 0024 3070     		strb	r0, [r6]
  50:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
 353              		.loc 1 50 14 view .LVU77
 354 0026 2500     		movs	r5, r4
  51:Drivers/NRF24/nrf24.c **** 	}
 355              		.loc 1 51 8 view .LVU78
 356 0028 3E00     		movs	r6, r7
 357              	.LVL42:
 358              	.L13:
  50:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
 359              		.loc 1 50 9 is_stmt 1 view .LVU79
  50:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
 360              		.loc 1 50 14 is_stmt 0 view .LVU80
 361 002a 6C1E     		subs	r4, r5, #1
 362 002c E4B2     		uxtb	r4, r4
 363              	.LVL43:
  50:Drivers/NRF24/nrf24.c **** 		*pBuf++ = nRF24_LL_RW(nRF24_CMD_NOP);
 364              		.loc 1 50 9 view .LVU81
 365 002e 002D     		cmp	r5, #0
 366 0030 F4D1     		bne	.L14
  53:Drivers/NRF24/nrf24.c **** }
ARM GAS  /tmp/ccSBQZez.s 			page 10


 367              		.loc 1 53 2 is_stmt 1 view .LVU82
 368              	.LBB46:
 369              	.LBI46:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 370              		.loc 2 25 20 view .LVU83
 371              	.LBB47:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 372              		.loc 2 26 5 view .LVU84
 373 0032 A020     		movs	r0, #160
 374 0034 0122     		movs	r2, #1
 375 0036 0221     		movs	r1, #2
 376 0038 C005     		lsls	r0, r0, #23
 377 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 378              	.LVL44:
 379              	.LBE47:
 380              	.LBE46:
  54:Drivers/NRF24/nrf24.c **** 
 381              		.loc 1 54 1 is_stmt 0 view .LVU85
 382              		@ sp needed
 383              	.LVL45:
 384              	.LVL46:
 385              	.LVL47:
  54:Drivers/NRF24/nrf24.c **** 
 386              		.loc 1 54 1 view .LVU86
 387 003e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 388              		.cfi_endproc
 389              	.LFE48:
 391              		.section	.text.nRF24_ReadReg,"ax",%progbits
 392              		.align	1
 393              		.syntax unified
 394              		.code	16
 395              		.thumb_func
 397              	nRF24_ReadReg:
 398              	.LVL48:
 399              	.LFB46:
   9:Drivers/NRF24/nrf24.c **** 	uint8_t value;
 400              		.loc 1 9 43 is_stmt 1 view -0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 0
 403              		@ frame_needed = 0, uses_anonymous_args = 0
   9:Drivers/NRF24/nrf24.c **** 	uint8_t value;
 404              		.loc 1 9 43 is_stmt 0 view .LVU88
 405 0000 70B5     		push	{r4, r5, r6, lr}
 406              		.cfi_def_cfa_offset 16
 407              		.cfi_offset 4, -16
 408              		.cfi_offset 5, -12
 409              		.cfi_offset 6, -8
 410              		.cfi_offset 14, -4
 411 0002 0400     		movs	r4, r0
  10:Drivers/NRF24/nrf24.c **** 
 412              		.loc 1 10 2 is_stmt 1 view .LVU89
  12:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(reg & nRF24_MASK_REG_MAP);
 413              		.loc 1 12 2 view .LVU90
 414              	.LBB48:
 415              	.LBI48:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 416              		.loc 2 20 20 view .LVU91
ARM GAS  /tmp/ccSBQZez.s 			page 11


 417              	.LBB49:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 418              		.loc 2 21 5 view .LVU92
 419 0004 A025     		movs	r5, #160
 420 0006 ED05     		lsls	r5, r5, #23
 421 0008 0022     		movs	r2, #0
 422 000a 0221     		movs	r1, #2
 423 000c 2800     		movs	r0, r5
 424              	.LVL49:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 425              		.loc 2 21 5 is_stmt 0 view .LVU93
 426 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 427              	.LVL50:
 428              	.LBE49:
 429              	.LBE48:
  13:Drivers/NRF24/nrf24.c **** 	value = nRF24_LL_RW(nRF24_CMD_NOP);
 430              		.loc 1 13 2 is_stmt 1 view .LVU94
 431 0012 1F20     		movs	r0, #31
 432 0014 2040     		ands	r0, r4
 433 0016 FFF7FEFF 		bl	nRF24_LL_RW
 434              	.LVL51:
  14:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 435              		.loc 1 14 2 view .LVU95
  14:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 436              		.loc 1 14 10 is_stmt 0 view .LVU96
 437 001a FF20     		movs	r0, #255
 438 001c FFF7FEFF 		bl	nRF24_LL_RW
 439              	.LVL52:
 440 0020 0400     		movs	r4, r0
 441              	.LVL53:
  15:Drivers/NRF24/nrf24.c **** 
 442              		.loc 1 15 2 is_stmt 1 view .LVU97
 443              	.LBB50:
 444              	.LBI50:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 445              		.loc 2 25 20 view .LVU98
 446              	.LBB51:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 447              		.loc 2 26 5 view .LVU99
 448 0022 0122     		movs	r2, #1
 449 0024 0221     		movs	r1, #2
 450 0026 2800     		movs	r0, r5
 451 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 452              	.LVL54:
 453              	.LBE51:
 454              	.LBE50:
  17:Drivers/NRF24/nrf24.c **** }
 455              		.loc 1 17 2 view .LVU100
  18:Drivers/NRF24/nrf24.c **** 
 456              		.loc 1 18 1 is_stmt 0 view .LVU101
 457 002c 2000     		movs	r0, r4
 458              		@ sp needed
 459              	.LVL55:
  18:Drivers/NRF24/nrf24.c **** 
 460              		.loc 1 18 1 view .LVU102
 461 002e 70BD     		pop	{r4, r5, r6, pc}
 462              		.cfi_endproc
ARM GAS  /tmp/ccSBQZez.s 			page 12


 463              	.LFE46:
 465              		.section	.text.nRF24_GetRxDplPayloadWidth,"ax",%progbits
 466              		.align	1
 467              		.syntax unified
 468              		.code	16
 469              		.thumb_func
 471              	nRF24_GetRxDplPayloadWidth:
 472              	.LFB78:
  69:Drivers/NRF24/nrf24.c **** 
  70:Drivers/NRF24/nrf24.c **** // Set transceiver to it's initial state
  71:Drivers/NRF24/nrf24.c **** // note: RX/TX pipe addresses remains untouched
  72:Drivers/NRF24/nrf24.c **** void nRF24_Init(void) {
  73:Drivers/NRF24/nrf24.c **** 	// Write to registers their initial values
  74:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_CONFIG, 0x08);
  75:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, 0x3F);
  76:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, 0x03);
  77:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_AW, 0x03);
  78:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_RETR, 0x03);
  79:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, 0x02);
  80:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, 0x0E);
  81:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_STATUS, 0x0E);
  82:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P0, 0x00);
  83:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P1, 0x00);
  84:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P2, 0x00);
  85:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P3, 0x00);
  86:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P4, 0x00);
  87:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P5, 0x00);
  88:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_DYNPD, 0x00);
  89:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_FEATURE, 0x00);
  90:Drivers/NRF24/nrf24.c **** 
  91:Drivers/NRF24/nrf24.c **** 	// Clear the FIFO's
  92:Drivers/NRF24/nrf24.c **** 	nRF24_FlushRX();
  93:Drivers/NRF24/nrf24.c **** 	nRF24_FlushTX();
  94:Drivers/NRF24/nrf24.c **** 
  95:Drivers/NRF24/nrf24.c **** 	// Clear any pending interrupt flags
  96:Drivers/NRF24/nrf24.c **** 	nRF24_ClearIRQFlags();
  97:Drivers/NRF24/nrf24.c **** 
  98:Drivers/NRF24/nrf24.c **** 	// Deassert CSN pin (chip release)
  99:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 100:Drivers/NRF24/nrf24.c **** }
 101:Drivers/NRF24/nrf24.c **** 
 102:Drivers/NRF24/nrf24.c **** // Check if the nRF24L01 present
 103:Drivers/NRF24/nrf24.c **** // return:
 104:Drivers/NRF24/nrf24.c **** //   1 - nRF24L01 is online and responding
 105:Drivers/NRF24/nrf24.c **** //   0 - received sequence differs from original
 106:Drivers/NRF24/nrf24.c **** uint8_t nRF24_Check(void) {
 107:Drivers/NRF24/nrf24.c **** 	uint8_t rxbuf[5];
 108:Drivers/NRF24/nrf24.c **** 	uint8_t i;
 109:Drivers/NRF24/nrf24.c **** 	uint8_t *ptr = (uint8_t *)nRF24_TEST_ADDR;
 110:Drivers/NRF24/nrf24.c **** 	// Write test TX address and read TX_ADDR register
 111:Drivers/NRF24/nrf24.c **** 	nRF24_WriteMBReg(nRF24_CMD_W_REGISTER | nRF24_REG_TX_ADDR, ptr, 5);
 112:Drivers/NRF24/nrf24.c **** 	nRF24_ReadMBReg(nRF24_CMD_R_REGISTER | nRF24_REG_TX_ADDR, rxbuf, 5);
 113:Drivers/NRF24/nrf24.c **** 
 114:Drivers/NRF24/nrf24.c **** 
 115:Drivers/NRF24/nrf24.c **** 	// Compare buffers, return error on first mismatch
 116:Drivers/NRF24/nrf24.c **** 	for (i = 0; i < 5; i++) {
 117:Drivers/NRF24/nrf24.c **** 		if (rxbuf[i] != *ptr++) return 0;
ARM GAS  /tmp/ccSBQZez.s 			page 13


 118:Drivers/NRF24/nrf24.c **** 	}
 119:Drivers/NRF24/nrf24.c **** 
 120:Drivers/NRF24/nrf24.c **** 	return 1;
 121:Drivers/NRF24/nrf24.c **** }
 122:Drivers/NRF24/nrf24.c **** 
 123:Drivers/NRF24/nrf24.c **** // Control transceiver power mode
 124:Drivers/NRF24/nrf24.c **** // input:
 125:Drivers/NRF24/nrf24.c **** //   mode - new state of power mode, one of nRF24_PWR_xx values
 126:Drivers/NRF24/nrf24.c **** void nRF24_SetPowerMode(uint8_t mode) {
 127:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 128:Drivers/NRF24/nrf24.c **** 
 129:Drivers/NRF24/nrf24.c **** 	reg = nRF24_ReadReg(nRF24_REG_CONFIG);
 130:Drivers/NRF24/nrf24.c **** 	if (mode == nRF24_PWR_UP) {
 131:Drivers/NRF24/nrf24.c **** 		// Set the PWR_UP bit of CONFIG register to wake the transceiver
 132:Drivers/NRF24/nrf24.c **** 		// It goes into Stanby-I mode with consumption about 26uA
 133:Drivers/NRF24/nrf24.c **** 		reg |= nRF24_CONFIG_PWR_UP;
 134:Drivers/NRF24/nrf24.c **** 	} else {
 135:Drivers/NRF24/nrf24.c **** 		// Clear the PWR_UP bit of CONFIG register to put the transceiver
 136:Drivers/NRF24/nrf24.c **** 		// into power down mode with consumption about 900nA
 137:Drivers/NRF24/nrf24.c **** 		reg &= ~nRF24_CONFIG_PWR_UP;
 138:Drivers/NRF24/nrf24.c **** 	}
 139:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_CONFIG, reg);
 140:Drivers/NRF24/nrf24.c **** }
 141:Drivers/NRF24/nrf24.c **** 
 142:Drivers/NRF24/nrf24.c **** // Set transceiver operational mode
 143:Drivers/NRF24/nrf24.c **** // input:
 144:Drivers/NRF24/nrf24.c **** //   mode - operational mode, one of nRF24_MODE_xx values
 145:Drivers/NRF24/nrf24.c **** void nRF24_SetOperationalMode(uint8_t mode) {
 146:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 147:Drivers/NRF24/nrf24.c **** 
 148:Drivers/NRF24/nrf24.c **** 	// Configure PRIM_RX bit of the CONFIG register
 149:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_CONFIG);
 150:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_CONFIG_PRIM_RX;
 151:Drivers/NRF24/nrf24.c **** 	reg |= (mode & nRF24_CONFIG_PRIM_RX);
 152:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_CONFIG, reg);
 153:Drivers/NRF24/nrf24.c **** }
 154:Drivers/NRF24/nrf24.c **** 
 155:Drivers/NRF24/nrf24.c **** // Set transceiver DynamicPayloadLength feature for all the pipes
 156:Drivers/NRF24/nrf24.c **** // input:
 157:Drivers/NRF24/nrf24.c **** //   mode - status, one of nRF24_DPL_xx values
 158:Drivers/NRF24/nrf24.c **** void nRF24_SetDynamicPayloadLength(uint8_t mode) {
 159:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 160:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_FEATURE);
 161:Drivers/NRF24/nrf24.c **** 	if(mode) {
 162:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg | nRF24_FEATURE_EN_DPL);
 163:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_DYNPD, 0x1F);
 164:Drivers/NRF24/nrf24.c **** 	} else {
 165:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg &~ nRF24_FEATURE_EN_DPL);
 166:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_DYNPD, 0x0);
 167:Drivers/NRF24/nrf24.c **** 	}
 168:Drivers/NRF24/nrf24.c **** }
 169:Drivers/NRF24/nrf24.c **** 
 170:Drivers/NRF24/nrf24.c **** // Enables Payload With Ack. NB Refer to the datasheet for proper retransmit timing.
 171:Drivers/NRF24/nrf24.c **** // input:
 172:Drivers/NRF24/nrf24.c **** //   mode - status, 1 or 0
 173:Drivers/NRF24/nrf24.c **** void nRF24_SetPayloadWithAck(uint8_t mode) {
 174:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
ARM GAS  /tmp/ccSBQZez.s 			page 14


 175:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_FEATURE);
 176:Drivers/NRF24/nrf24.c **** 	if(mode) {
 177:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg | nRF24_FEATURE_EN_ACK_PAY);
 178:Drivers/NRF24/nrf24.c **** 	} else {
 179:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg &~ nRF24_FEATURE_EN_ACK_PAY);
 180:Drivers/NRF24/nrf24.c **** 	}
 181:Drivers/NRF24/nrf24.c **** }
 182:Drivers/NRF24/nrf24.c **** 
 183:Drivers/NRF24/nrf24.c **** // Configure transceiver CRC scheme
 184:Drivers/NRF24/nrf24.c **** // input:
 185:Drivers/NRF24/nrf24.c **** //   scheme - CRC scheme, one of nRF24_CRC_xx values
 186:Drivers/NRF24/nrf24.c **** // note: transceiver will forcibly turn on the CRC in case if auto acknowledgment
 187:Drivers/NRF24/nrf24.c **** //       enabled for at least one RX pipe
 188:Drivers/NRF24/nrf24.c **** void nRF24_SetCRCScheme(uint8_t scheme) {
 189:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 190:Drivers/NRF24/nrf24.c **** 
 191:Drivers/NRF24/nrf24.c **** 	// Configure EN_CRC[3] and CRCO[2] bits of the CONFIG register
 192:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_CONFIG);
 193:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_CRC;
 194:Drivers/NRF24/nrf24.c **** 	reg |= (scheme & nRF24_MASK_CRC);
 195:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_CONFIG, reg);
 196:Drivers/NRF24/nrf24.c **** }
 197:Drivers/NRF24/nrf24.c **** 
 198:Drivers/NRF24/nrf24.c **** // Set frequency channel
 199:Drivers/NRF24/nrf24.c **** // input:
 200:Drivers/NRF24/nrf24.c **** //   channel - radio frequency channel, value from 0 to 127
 201:Drivers/NRF24/nrf24.c **** // note: frequency will be (2400 + channel)MHz
 202:Drivers/NRF24/nrf24.c **** // note: PLOS_CNT[7:4] bits of the OBSERVER_TX register will be reset
 203:Drivers/NRF24/nrf24.c **** void nRF24_SetRFChannel(uint8_t channel) {
 204:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, channel);
 205:Drivers/NRF24/nrf24.c **** }
 206:Drivers/NRF24/nrf24.c **** 
 207:Drivers/NRF24/nrf24.c **** // Set automatic retransmission parameters
 208:Drivers/NRF24/nrf24.c **** // input:
 209:Drivers/NRF24/nrf24.c **** //   ard - auto retransmit delay, one of nRF24_ARD_xx values
 210:Drivers/NRF24/nrf24.c **** //   arc - count of auto retransmits, value form 0 to 15
 211:Drivers/NRF24/nrf24.c **** // note: zero arc value means that the automatic retransmission disabled
 212:Drivers/NRF24/nrf24.c **** void nRF24_SetAutoRetr(uint8_t ard, uint8_t arc) {
 213:Drivers/NRF24/nrf24.c **** 	// Set auto retransmit settings (SETUP_RETR register)
 214:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_RETR, (uint8_t)((ard << 4) | (arc & nRF24_MASK_RETR_ARC)));
 215:Drivers/NRF24/nrf24.c **** }
 216:Drivers/NRF24/nrf24.c **** 
 217:Drivers/NRF24/nrf24.c **** // Set of address widths
 218:Drivers/NRF24/nrf24.c **** // input:
 219:Drivers/NRF24/nrf24.c **** //   addr_width - RX/TX address field width, value from 3 to 5
 220:Drivers/NRF24/nrf24.c **** // note: this setting is common for all pipes
 221:Drivers/NRF24/nrf24.c **** void nRF24_SetAddrWidth(uint8_t addr_width) {
 222:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_AW, addr_width - 2);
 223:Drivers/NRF24/nrf24.c **** }
 224:Drivers/NRF24/nrf24.c **** 
 225:Drivers/NRF24/nrf24.c **** // Set static RX address for a specified pipe
 226:Drivers/NRF24/nrf24.c **** // input:
 227:Drivers/NRF24/nrf24.c **** //   pipe - pipe to configure address, one of nRF24_PIPEx values
 228:Drivers/NRF24/nrf24.c **** //   addr - pointer to the buffer with address
 229:Drivers/NRF24/nrf24.c **** // note: pipe can be a number from 0 to 5 (RX pipes) and 6 (TX pipe)
 230:Drivers/NRF24/nrf24.c **** // note: buffer length must be equal to current address width of transceiver
 231:Drivers/NRF24/nrf24.c **** // note: for pipes[2..5] only first byte of address will be written because
ARM GAS  /tmp/ccSBQZez.s 			page 15


 232:Drivers/NRF24/nrf24.c **** //       other bytes of address equals to pipe1
 233:Drivers/NRF24/nrf24.c **** // note: for pipes[2..5] only first byte of address will be written because
 234:Drivers/NRF24/nrf24.c **** //       pipes 1-5 share the four most significant address bytes
 235:Drivers/NRF24/nrf24.c **** void nRF24_SetAddr(uint8_t pipe, const uint8_t *addr) {
 236:Drivers/NRF24/nrf24.c **** 	uint8_t addr_width;
 237:Drivers/NRF24/nrf24.c **** 
 238:Drivers/NRF24/nrf24.c **** 	// RX_ADDR_Px register
 239:Drivers/NRF24/nrf24.c **** 	switch (pipe) {
 240:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPETX:
 241:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE0:
 242:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE1:
 243:Drivers/NRF24/nrf24.c **** 			// Get address width
 244:Drivers/NRF24/nrf24.c **** 			addr_width = nRF24_ReadReg(nRF24_REG_SETUP_AW) + 1;
 245:Drivers/NRF24/nrf24.c **** 			// Write address in reverse order (LSByte first)
 246:Drivers/NRF24/nrf24.c **** 			addr += addr_width;
 247:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_L();
 248:Drivers/NRF24/nrf24.c **** 			nRF24_LL_RW(nRF24_CMD_W_REGISTER | nRF24_ADDR_REGS[pipe]);
 249:Drivers/NRF24/nrf24.c **** 			do {
 250:Drivers/NRF24/nrf24.c **** 				nRF24_LL_RW(*addr--);
 251:Drivers/NRF24/nrf24.c **** 			} while (addr_width--);
 252:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_H();
 253:Drivers/NRF24/nrf24.c **** 			break;
 254:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE2:
 255:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE3:
 256:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE4:
 257:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE5:
 258:Drivers/NRF24/nrf24.c **** 			// Write address LSBbyte (only first byte from the addr buffer)
 259:Drivers/NRF24/nrf24.c **** 			nRF24_WriteReg(nRF24_ADDR_REGS[pipe], *addr);
 260:Drivers/NRF24/nrf24.c **** 			break;
 261:Drivers/NRF24/nrf24.c **** 		default:
 262:Drivers/NRF24/nrf24.c **** 			// Incorrect pipe number -> do nothing
 263:Drivers/NRF24/nrf24.c **** 			break;
 264:Drivers/NRF24/nrf24.c **** 	}
 265:Drivers/NRF24/nrf24.c **** }
 266:Drivers/NRF24/nrf24.c **** 
 267:Drivers/NRF24/nrf24.c **** // Configure RF output power in TX mode
 268:Drivers/NRF24/nrf24.c **** // input:
 269:Drivers/NRF24/nrf24.c **** //   tx_pwr - RF output power, one of nRF24_TXPWR_xx values
 270:Drivers/NRF24/nrf24.c **** void nRF24_SetTXPower(uint8_t tx_pwr) {
 271:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 272:Drivers/NRF24/nrf24.c **** 
 273:Drivers/NRF24/nrf24.c **** 	// Configure RF_PWR[2:1] bits of the RF_SETUP register
 274:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_RF_SETUP);
 275:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_RF_PWR;
 276:Drivers/NRF24/nrf24.c **** 	reg |= tx_pwr;
 277:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, reg);
 278:Drivers/NRF24/nrf24.c **** }
 279:Drivers/NRF24/nrf24.c **** 
 280:Drivers/NRF24/nrf24.c **** // Configure transceiver data rate
 281:Drivers/NRF24/nrf24.c **** // input:
 282:Drivers/NRF24/nrf24.c **** //   data_rate - data rate, one of nRF24_DR_xx values
 283:Drivers/NRF24/nrf24.c **** void nRF24_SetDataRate(uint8_t data_rate) {
 284:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 285:Drivers/NRF24/nrf24.c **** 
 286:Drivers/NRF24/nrf24.c **** 	// Configure RF_DR_LOW[5] and RF_DR_HIGH[3] bits of the RF_SETUP register
 287:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_RF_SETUP);
 288:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_DATARATE;
ARM GAS  /tmp/ccSBQZez.s 			page 16


 289:Drivers/NRF24/nrf24.c **** 	reg |= data_rate;
 290:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, reg);
 291:Drivers/NRF24/nrf24.c **** }
 292:Drivers/NRF24/nrf24.c **** 
 293:Drivers/NRF24/nrf24.c **** // Configure a specified RX pipe
 294:Drivers/NRF24/nrf24.c **** // input:
 295:Drivers/NRF24/nrf24.c **** //   pipe - number of the RX pipe, value from 0 to 5
 296:Drivers/NRF24/nrf24.c **** //   aa_state - state of auto acknowledgment, one of nRF24_AA_xx values
 297:Drivers/NRF24/nrf24.c **** //   payload_len - payload length in bytes
 298:Drivers/NRF24/nrf24.c **** void nRF24_SetRXPipe(uint8_t pipe, uint8_t aa_state, uint8_t payload_len) {
 299:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 300:Drivers/NRF24/nrf24.c **** 
 301:Drivers/NRF24/nrf24.c **** 	// Enable the specified pipe (EN_RXADDR register)
 302:Drivers/NRF24/nrf24.c **** 	reg = (nRF24_ReadReg(nRF24_REG_EN_RXADDR) | (1 << pipe)) & nRF24_MASK_EN_RX;
 303:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 304:Drivers/NRF24/nrf24.c **** 
 305:Drivers/NRF24/nrf24.c **** 	// Set RX payload length (RX_PW_Px register)
 306:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_RX_PW_PIPE[pipe], payload_len & nRF24_MASK_RX_PW);
 307:Drivers/NRF24/nrf24.c **** 
 308:Drivers/NRF24/nrf24.c **** 	// Set auto acknowledgment for a specified pipe (EN_AA register)
 309:Drivers/NRF24/nrf24.c **** 	reg = nRF24_ReadReg(nRF24_REG_EN_AA);
 310:Drivers/NRF24/nrf24.c **** 	if (aa_state == nRF24_AA_ON) {
 311:Drivers/NRF24/nrf24.c **** 		reg |=  (1 << pipe);
 312:Drivers/NRF24/nrf24.c **** 	} else {
 313:Drivers/NRF24/nrf24.c **** 		reg &= ~(1 << pipe);
 314:Drivers/NRF24/nrf24.c **** 	}
 315:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 316:Drivers/NRF24/nrf24.c **** }
 317:Drivers/NRF24/nrf24.c **** 
 318:Drivers/NRF24/nrf24.c **** // Disable specified RX pipe
 319:Drivers/NRF24/nrf24.c **** // input:
 320:Drivers/NRF24/nrf24.c **** //   PIPE - number of RX pipe, value from 0 to 5
 321:Drivers/NRF24/nrf24.c **** void nRF24_ClosePipe(uint8_t pipe) {
 322:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 323:Drivers/NRF24/nrf24.c **** 
 324:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_EN_RXADDR);
 325:Drivers/NRF24/nrf24.c **** 	reg &= ~(1 << pipe);
 326:Drivers/NRF24/nrf24.c **** 	reg &= nRF24_MASK_EN_RX;
 327:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 328:Drivers/NRF24/nrf24.c **** }
 329:Drivers/NRF24/nrf24.c **** 
 330:Drivers/NRF24/nrf24.c **** // Enable the auto retransmit (a.k.a. enhanced ShockBurst) for the specified RX pipe
 331:Drivers/NRF24/nrf24.c **** // input:
 332:Drivers/NRF24/nrf24.c **** //   pipe - number of the RX pipe, value from 0 to 5
 333:Drivers/NRF24/nrf24.c **** void nRF24_EnableAA(uint8_t pipe) {
 334:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 335:Drivers/NRF24/nrf24.c **** 
 336:Drivers/NRF24/nrf24.c **** 	// Set bit in EN_AA register
 337:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_EN_AA);
 338:Drivers/NRF24/nrf24.c **** 	reg |= (1 << pipe);
 339:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 340:Drivers/NRF24/nrf24.c **** }
 341:Drivers/NRF24/nrf24.c **** 
 342:Drivers/NRF24/nrf24.c **** // Disable the auto retransmit (a.k.a. enhanced ShockBurst) for one or all RX pipes
 343:Drivers/NRF24/nrf24.c **** // input:
 344:Drivers/NRF24/nrf24.c **** //   pipe - number of the RX pipe, value from 0 to 5, any other value will disable AA for all RX pi
 345:Drivers/NRF24/nrf24.c **** void nRF24_DisableAA(uint8_t pipe) {
ARM GAS  /tmp/ccSBQZez.s 			page 17


 346:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 347:Drivers/NRF24/nrf24.c **** 
 348:Drivers/NRF24/nrf24.c **** 	if (pipe > 5) {
 349:Drivers/NRF24/nrf24.c **** 		// Disable Auto-ACK for ALL pipes
 350:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_EN_AA, 0x00);
 351:Drivers/NRF24/nrf24.c **** 	} else {
 352:Drivers/NRF24/nrf24.c **** 		// Clear bit in the EN_AA register
 353:Drivers/NRF24/nrf24.c **** 		reg  = nRF24_ReadReg(nRF24_REG_EN_AA);
 354:Drivers/NRF24/nrf24.c **** 		reg &= ~(1 << pipe);
 355:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 356:Drivers/NRF24/nrf24.c **** 	}
 357:Drivers/NRF24/nrf24.c **** }
 358:Drivers/NRF24/nrf24.c **** 
 359:Drivers/NRF24/nrf24.c **** // Get value of the STATUS register
 360:Drivers/NRF24/nrf24.c **** // return: value of STATUS register
 361:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetStatus(void) {
 362:Drivers/NRF24/nrf24.c **** 	return nRF24_ReadReg(nRF24_REG_STATUS);
 363:Drivers/NRF24/nrf24.c **** }
 364:Drivers/NRF24/nrf24.c **** 
 365:Drivers/NRF24/nrf24.c **** // Get pending IRQ flags
 366:Drivers/NRF24/nrf24.c **** // return: current status of RX_DR, TX_DS and MAX_RT bits of the STATUS register
 367:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetIRQFlags(void) {
 368:Drivers/NRF24/nrf24.c **** 	return (nRF24_ReadReg(nRF24_REG_STATUS) & nRF24_MASK_STATUS_IRQ);
 369:Drivers/NRF24/nrf24.c **** }
 370:Drivers/NRF24/nrf24.c **** 
 371:Drivers/NRF24/nrf24.c **** // Get status of the RX FIFO
 372:Drivers/NRF24/nrf24.c **** // return: one of the nRF24_STATUS_RXFIFO_xx values
 373:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetStatus_RXFIFO(void) {
 374:Drivers/NRF24/nrf24.c **** 	return (nRF24_ReadReg(nRF24_REG_FIFO_STATUS) & nRF24_MASK_RXFIFO);
 375:Drivers/NRF24/nrf24.c **** }
 376:Drivers/NRF24/nrf24.c **** 
 377:Drivers/NRF24/nrf24.c **** // Get status of the TX FIFO
 378:Drivers/NRF24/nrf24.c **** // return: one of the nRF24_STATUS_TXFIFO_xx values
 379:Drivers/NRF24/nrf24.c **** // note: the TX_REUSE bit ignored
 380:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetStatus_TXFIFO(void) {
 381:Drivers/NRF24/nrf24.c **** 	return ((nRF24_ReadReg(nRF24_REG_FIFO_STATUS) & nRF24_MASK_TXFIFO) >> 4);
 382:Drivers/NRF24/nrf24.c **** }
 383:Drivers/NRF24/nrf24.c **** 
 384:Drivers/NRF24/nrf24.c **** // Get pipe number for the payload available for reading from RX FIFO
 385:Drivers/NRF24/nrf24.c **** // return: pipe number or 0x07 if the RX FIFO is empty
 386:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetRXSource(void) {
 387:Drivers/NRF24/nrf24.c **** 	return ((nRF24_ReadReg(nRF24_REG_STATUS) & nRF24_MASK_RX_P_NO) >> 1);
 388:Drivers/NRF24/nrf24.c **** }
 389:Drivers/NRF24/nrf24.c **** 
 390:Drivers/NRF24/nrf24.c **** // Get auto retransmit statistic
 391:Drivers/NRF24/nrf24.c **** // return: value of OBSERVE_TX register which contains two counters encoded in nibbles:
 392:Drivers/NRF24/nrf24.c **** //   high - lost packets count (max value 15, can be reseted by write to RF_CH register)
 393:Drivers/NRF24/nrf24.c **** //   low  - retransmitted packets count (max value 15, reseted when new transmission starts)
 394:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetRetransmitCounters(void) {
 395:Drivers/NRF24/nrf24.c **** 	return (nRF24_ReadReg(nRF24_REG_OBSERVE_TX));
 396:Drivers/NRF24/nrf24.c **** }
 397:Drivers/NRF24/nrf24.c **** 
 398:Drivers/NRF24/nrf24.c **** // Reset packet lost counter (PLOS_CNT bits in OBSERVER_TX register)
 399:Drivers/NRF24/nrf24.c **** void nRF24_ResetPLOS(void) {
 400:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 401:Drivers/NRF24/nrf24.c **** 
 402:Drivers/NRF24/nrf24.c **** 	// The PLOS counter is reset after write to RF_CH register
ARM GAS  /tmp/ccSBQZez.s 			page 18


 403:Drivers/NRF24/nrf24.c **** 	reg = nRF24_ReadReg(nRF24_REG_RF_CH);
 404:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, reg);
 405:Drivers/NRF24/nrf24.c **** }
 406:Drivers/NRF24/nrf24.c **** 
 407:Drivers/NRF24/nrf24.c **** // Flush the TX FIFO
 408:Drivers/NRF24/nrf24.c **** void nRF24_FlushTX(void) {
 409:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_CMD_FLUSH_TX, nRF24_CMD_NOP);
 410:Drivers/NRF24/nrf24.c **** }
 411:Drivers/NRF24/nrf24.c **** 
 412:Drivers/NRF24/nrf24.c **** // Flush the RX FIFO
 413:Drivers/NRF24/nrf24.c **** void nRF24_FlushRX(void) {
 414:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_CMD_FLUSH_RX, nRF24_CMD_NOP);
 415:Drivers/NRF24/nrf24.c **** }
 416:Drivers/NRF24/nrf24.c **** 
 417:Drivers/NRF24/nrf24.c **** // Clear any pending IRQ flags
 418:Drivers/NRF24/nrf24.c **** void nRF24_ClearIRQFlags(void) {
 419:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 420:Drivers/NRF24/nrf24.c **** 
 421:Drivers/NRF24/nrf24.c **** 	// Clear RX_DR, TX_DS and MAX_RT bits of the STATUS register
 422:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_STATUS);
 423:Drivers/NRF24/nrf24.c **** 	reg |= nRF24_MASK_STATUS_IRQ;
 424:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_STATUS, reg);
 425:Drivers/NRF24/nrf24.c **** }
 426:Drivers/NRF24/nrf24.c **** 
 427:Drivers/NRF24/nrf24.c **** // Write TX payload
 428:Drivers/NRF24/nrf24.c **** // input:
 429:Drivers/NRF24/nrf24.c **** //   pBuf - pointer to the buffer with payload data
 430:Drivers/NRF24/nrf24.c **** //   length - payload length in bytes
 431:Drivers/NRF24/nrf24.c **** void nRF24_WritePayload(uint8_t *pBuf, uint8_t length) {
 432:Drivers/NRF24/nrf24.c **** 	nRF24_WriteMBReg(nRF24_CMD_W_TX_PAYLOAD, pBuf, length);
 433:Drivers/NRF24/nrf24.c **** }
 434:Drivers/NRF24/nrf24.c **** 
 435:Drivers/NRF24/nrf24.c **** static uint8_t nRF24_GetRxDplPayloadWidth() {
 473              		.loc 1 435 45 is_stmt 1 view -0
 474              		.cfi_startproc
 475              		@ args = 0, pretend = 0, frame = 0
 476              		@ frame_needed = 0, uses_anonymous_args = 0
 477 0000 70B5     		push	{r4, r5, r6, lr}
 478              		.cfi_def_cfa_offset 16
 479              		.cfi_offset 4, -16
 480              		.cfi_offset 5, -12
 481              		.cfi_offset 6, -8
 482              		.cfi_offset 14, -4
 436:Drivers/NRF24/nrf24.c **** 	uint8_t value;
 483              		.loc 1 436 2 view .LVU104
 437:Drivers/NRF24/nrf24.c **** 
 438:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
 484              		.loc 1 438 2 view .LVU105
 485              	.LBB52:
 486              	.LBI52:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 487              		.loc 2 20 20 view .LVU106
 488              	.LBB53:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 489              		.loc 2 21 5 view .LVU107
 490 0002 A025     		movs	r5, #160
 491 0004 ED05     		lsls	r5, r5, #23
ARM GAS  /tmp/ccSBQZez.s 			page 19


 492 0006 0022     		movs	r2, #0
 493 0008 0221     		movs	r1, #2
 494 000a 2800     		movs	r0, r5
 495 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 496              	.LVL56:
 497              	.LBE53:
 498              	.LBE52:
 439:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(nRF24_CMD_R_RX_PL_WID);
 499              		.loc 1 439 2 view .LVU108
 500 0010 6020     		movs	r0, #96
 501 0012 FFF7FEFF 		bl	nRF24_LL_RW
 502              	.LVL57:
 440:Drivers/NRF24/nrf24.c **** 	value = nRF24_LL_RW(nRF24_CMD_NOP);
 503              		.loc 1 440 2 view .LVU109
 504              		.loc 1 440 10 is_stmt 0 view .LVU110
 505 0016 FF20     		movs	r0, #255
 506 0018 FFF7FEFF 		bl	nRF24_LL_RW
 507              	.LVL58:
 508 001c 0400     		movs	r4, r0
 509              	.LVL59:
 441:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 510              		.loc 1 441 2 is_stmt 1 view .LVU111
 511              	.LBB54:
 512              	.LBI54:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 513              		.loc 2 25 20 view .LVU112
 514              	.LBB55:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 515              		.loc 2 26 5 view .LVU113
 516 001e 0122     		movs	r2, #1
 517 0020 0221     		movs	r1, #2
 518 0022 2800     		movs	r0, r5
 519 0024 FFF7FEFF 		bl	HAL_GPIO_WritePin
 520              	.LVL60:
 521              	.LBE55:
 522              	.LBE54:
 442:Drivers/NRF24/nrf24.c **** 
 443:Drivers/NRF24/nrf24.c **** 	return value;
 523              		.loc 1 443 2 view .LVU114
 444:Drivers/NRF24/nrf24.c **** 
 445:Drivers/NRF24/nrf24.c **** }
 524              		.loc 1 445 1 is_stmt 0 view .LVU115
 525 0028 2000     		movs	r0, r4
 526              		@ sp needed
 527              	.LVL61:
 528              		.loc 1 445 1 view .LVU116
 529 002a 70BD     		pop	{r4, r5, r6, pc}
 530              		.cfi_endproc
 531              	.LFE78:
 533              		.section	.rodata.nRF24_Check.str1.4,"aMS",%progbits,1
 534              		.align	2
 535              	.LC1:
 536 0000 6E524632 		.ascii	"nRF24\000"
 536      3400
 537              		.section	.text.nRF24_Check,"ax",%progbits
 538              		.align	1
 539              		.global	nRF24_Check
ARM GAS  /tmp/ccSBQZez.s 			page 20


 540              		.syntax unified
 541              		.code	16
 542              		.thumb_func
 544              	nRF24_Check:
 545              	.LFB51:
 106:Drivers/NRF24/nrf24.c **** 	uint8_t rxbuf[5];
 546              		.loc 1 106 27 is_stmt 1 view -0
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 8
 549              		@ frame_needed = 0, uses_anonymous_args = 0
 550 0000 10B5     		push	{r4, lr}
 551              		.cfi_def_cfa_offset 8
 552              		.cfi_offset 4, -8
 553              		.cfi_offset 14, -4
 554 0002 82B0     		sub	sp, sp, #8
 555              		.cfi_def_cfa_offset 16
 107:Drivers/NRF24/nrf24.c **** 	uint8_t i;
 556              		.loc 1 107 2 view .LVU118
 108:Drivers/NRF24/nrf24.c **** 	uint8_t *ptr = (uint8_t *)nRF24_TEST_ADDR;
 557              		.loc 1 108 2 view .LVU119
 109:Drivers/NRF24/nrf24.c **** 	// Write test TX address and read TX_ADDR register
 558              		.loc 1 109 2 view .LVU120
 559              	.LVL62:
 111:Drivers/NRF24/nrf24.c **** 	nRF24_ReadMBReg(nRF24_CMD_R_REGISTER | nRF24_REG_TX_ADDR, rxbuf, 5);
 560              		.loc 1 111 2 view .LVU121
 561 0004 0E49     		ldr	r1, .L23
 562 0006 0522     		movs	r2, #5
 563 0008 0C00     		movs	r4, r1
 564 000a 3020     		movs	r0, #48
 565 000c FFF7FEFF 		bl	nRF24_WriteMBReg
 566              	.LVL63:
 112:Drivers/NRF24/nrf24.c **** 
 567              		.loc 1 112 2 view .LVU122
 568 0010 0522     		movs	r2, #5
 569 0012 6946     		mov	r1, sp
 570 0014 1020     		movs	r0, #16
 571 0016 FFF7FEFF 		bl	nRF24_ReadMBReg
 572              	.LVL64:
 116:Drivers/NRF24/nrf24.c **** 		if (rxbuf[i] != *ptr++) return 0;
 573              		.loc 1 116 2 view .LVU123
 109:Drivers/NRF24/nrf24.c **** 	// Write test TX address and read TX_ADDR register
 574              		.loc 1 109 11 is_stmt 0 view .LVU124
 575 001a 2100     		movs	r1, r4
 116:Drivers/NRF24/nrf24.c **** 		if (rxbuf[i] != *ptr++) return 0;
 576              		.loc 1 116 9 view .LVU125
 577 001c 0023     		movs	r3, #0
 578              	.LVL65:
 579              	.L18:
 116:Drivers/NRF24/nrf24.c **** 		if (rxbuf[i] != *ptr++) return 0;
 580              		.loc 1 116 16 is_stmt 1 discriminator 1 view .LVU126
 581 001e 042B     		cmp	r3, #4
 582 0020 09D8     		bhi	.L22
 117:Drivers/NRF24/nrf24.c **** 	}
 583              		.loc 1 117 3 view .LVU127
 117:Drivers/NRF24/nrf24.c **** 	}
 584              		.loc 1 117 12 is_stmt 0 view .LVU128
 585 0022 6A46     		mov	r2, sp
ARM GAS  /tmp/ccSBQZez.s 			page 21


 586 0024 D05C     		ldrb	r0, [r2, r3]
 117:Drivers/NRF24/nrf24.c **** 	}
 587              		.loc 1 117 23 view .LVU129
 588 0026 4C1C     		adds	r4, r1, #1
 589              	.LVL66:
 117:Drivers/NRF24/nrf24.c **** 	}
 590              		.loc 1 117 19 view .LVU130
 591 0028 0A78     		ldrb	r2, [r1]
 117:Drivers/NRF24/nrf24.c **** 	}
 592              		.loc 1 117 6 view .LVU131
 593 002a 9042     		cmp	r0, r2
 594 002c 06D1     		bne	.L21
 116:Drivers/NRF24/nrf24.c **** 		if (rxbuf[i] != *ptr++) return 0;
 595              		.loc 1 116 22 is_stmt 1 discriminator 2 view .LVU132
 596 002e 0133     		adds	r3, r3, #1
 597              	.LVL67:
 116:Drivers/NRF24/nrf24.c **** 		if (rxbuf[i] != *ptr++) return 0;
 598              		.loc 1 116 22 is_stmt 0 discriminator 2 view .LVU133
 599 0030 DBB2     		uxtb	r3, r3
 600              	.LVL68:
 117:Drivers/NRF24/nrf24.c **** 	}
 601              		.loc 1 117 23 view .LVU134
 602 0032 2100     		movs	r1, r4
 603 0034 F3E7     		b	.L18
 604              	.LVL69:
 605              	.L22:
 120:Drivers/NRF24/nrf24.c **** }
 606              		.loc 1 120 9 view .LVU135
 607 0036 0120     		movs	r0, #1
 608              	.LVL70:
 609              	.L19:
 121:Drivers/NRF24/nrf24.c **** 
 610              		.loc 1 121 1 view .LVU136
 611 0038 02B0     		add	sp, sp, #8
 612              		@ sp needed
 613 003a 10BD     		pop	{r4, pc}
 614              	.LVL71:
 615              	.L21:
 117:Drivers/NRF24/nrf24.c **** 	}
 616              		.loc 1 117 34 discriminator 1 view .LVU137
 617 003c 0020     		movs	r0, #0
 618 003e FBE7     		b	.L19
 619              	.L24:
 620              		.align	2
 621              	.L23:
 622 0040 00000000 		.word	.LC1
 623              		.cfi_endproc
 624              	.LFE51:
 626              		.section	.text.nRF24_SetPowerMode,"ax",%progbits
 627              		.align	1
 628              		.global	nRF24_SetPowerMode
 629              		.syntax unified
 630              		.code	16
 631              		.thumb_func
 633              	nRF24_SetPowerMode:
 634              	.LVL72:
 635              	.LFB52:
ARM GAS  /tmp/ccSBQZez.s 			page 22


 126:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 636              		.loc 1 126 39 is_stmt 1 view -0
 637              		.cfi_startproc
 638              		@ args = 0, pretend = 0, frame = 0
 639              		@ frame_needed = 0, uses_anonymous_args = 0
 126:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 640              		.loc 1 126 39 is_stmt 0 view .LVU139
 641 0000 10B5     		push	{r4, lr}
 642              		.cfi_def_cfa_offset 8
 643              		.cfi_offset 4, -8
 644              		.cfi_offset 14, -4
 645 0002 0400     		movs	r4, r0
 127:Drivers/NRF24/nrf24.c **** 
 646              		.loc 1 127 2 is_stmt 1 view .LVU140
 129:Drivers/NRF24/nrf24.c **** 	if (mode == nRF24_PWR_UP) {
 647              		.loc 1 129 2 view .LVU141
 129:Drivers/NRF24/nrf24.c **** 	if (mode == nRF24_PWR_UP) {
 648              		.loc 1 129 8 is_stmt 0 view .LVU142
 649 0004 0020     		movs	r0, #0
 650              	.LVL73:
 129:Drivers/NRF24/nrf24.c **** 	if (mode == nRF24_PWR_UP) {
 651              		.loc 1 129 8 view .LVU143
 652 0006 FFF7FEFF 		bl	nRF24_ReadReg
 653              	.LVL74:
 654 000a 0100     		movs	r1, r0
 655              	.LVL75:
 130:Drivers/NRF24/nrf24.c **** 		// Set the PWR_UP bit of CONFIG register to wake the transceiver
 656              		.loc 1 130 2 is_stmt 1 view .LVU144
 130:Drivers/NRF24/nrf24.c **** 		// Set the PWR_UP bit of CONFIG register to wake the transceiver
 657              		.loc 1 130 5 is_stmt 0 view .LVU145
 658 000c 022C     		cmp	r4, #2
 659 000e 06D0     		beq	.L28
 137:Drivers/NRF24/nrf24.c **** 	}
 660              		.loc 1 137 3 is_stmt 1 view .LVU146
 137:Drivers/NRF24/nrf24.c **** 	}
 661              		.loc 1 137 7 is_stmt 0 view .LVU147
 662 0010 0223     		movs	r3, #2
 663 0012 9943     		bics	r1, r3
 664              	.LVL76:
 137:Drivers/NRF24/nrf24.c **** 	}
 665              		.loc 1 137 7 view .LVU148
 666 0014 C9B2     		uxtb	r1, r1
 667              	.LVL77:
 668              	.L27:
 139:Drivers/NRF24/nrf24.c **** }
 669              		.loc 1 139 2 is_stmt 1 view .LVU149
 670 0016 0020     		movs	r0, #0
 671 0018 FFF7FEFF 		bl	nRF24_WriteReg
 672              	.LVL78:
 140:Drivers/NRF24/nrf24.c **** 
 673              		.loc 1 140 1 is_stmt 0 view .LVU150
 674              		@ sp needed
 675              	.LVL79:
 140:Drivers/NRF24/nrf24.c **** 
 676              		.loc 1 140 1 view .LVU151
 677 001c 10BD     		pop	{r4, pc}
 678              	.LVL80:
ARM GAS  /tmp/ccSBQZez.s 			page 23


 679              	.L28:
 133:Drivers/NRF24/nrf24.c **** 	} else {
 680              		.loc 1 133 3 is_stmt 1 view .LVU152
 133:Drivers/NRF24/nrf24.c **** 	} else {
 681              		.loc 1 133 7 is_stmt 0 view .LVU153
 682 001e 0223     		movs	r3, #2
 683 0020 1943     		orrs	r1, r3
 684              	.LVL81:
 133:Drivers/NRF24/nrf24.c **** 	} else {
 685              		.loc 1 133 7 view .LVU154
 686 0022 C9B2     		uxtb	r1, r1
 687              	.LVL82:
 133:Drivers/NRF24/nrf24.c **** 	} else {
 688              		.loc 1 133 7 view .LVU155
 689 0024 F7E7     		b	.L27
 690              		.cfi_endproc
 691              	.LFE52:
 693              		.section	.text.nRF24_SetOperationalMode,"ax",%progbits
 694              		.align	1
 695              		.global	nRF24_SetOperationalMode
 696              		.syntax unified
 697              		.code	16
 698              		.thumb_func
 700              	nRF24_SetOperationalMode:
 701              	.LVL83:
 702              	.LFB53:
 145:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 703              		.loc 1 145 45 is_stmt 1 view -0
 704              		.cfi_startproc
 705              		@ args = 0, pretend = 0, frame = 0
 706              		@ frame_needed = 0, uses_anonymous_args = 0
 145:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 707              		.loc 1 145 45 is_stmt 0 view .LVU157
 708 0000 10B5     		push	{r4, lr}
 709              		.cfi_def_cfa_offset 8
 710              		.cfi_offset 4, -8
 711              		.cfi_offset 14, -4
 712 0002 0400     		movs	r4, r0
 146:Drivers/NRF24/nrf24.c **** 
 713              		.loc 1 146 2 is_stmt 1 view .LVU158
 149:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_CONFIG_PRIM_RX;
 714              		.loc 1 149 2 view .LVU159
 149:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_CONFIG_PRIM_RX;
 715              		.loc 1 149 9 is_stmt 0 view .LVU160
 716 0004 0020     		movs	r0, #0
 717              	.LVL84:
 149:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_CONFIG_PRIM_RX;
 718              		.loc 1 149 9 view .LVU161
 719 0006 FFF7FEFF 		bl	nRF24_ReadReg
 720              	.LVL85:
 150:Drivers/NRF24/nrf24.c **** 	reg |= (mode & nRF24_CONFIG_PRIM_RX);
 721              		.loc 1 150 2 is_stmt 1 view .LVU162
 150:Drivers/NRF24/nrf24.c **** 	reg |= (mode & nRF24_CONFIG_PRIM_RX);
 722              		.loc 1 150 6 is_stmt 0 view .LVU163
 723 000a 0123     		movs	r3, #1
 724 000c 0100     		movs	r1, r0
 725 000e 9943     		bics	r1, r3
ARM GAS  /tmp/ccSBQZez.s 			page 24


 726 0010 C9B2     		uxtb	r1, r1
 727              	.LVL86:
 151:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_CONFIG, reg);
 728              		.loc 1 151 2 is_stmt 1 view .LVU164
 152:Drivers/NRF24/nrf24.c **** }
 729              		.loc 1 152 2 view .LVU165
 730 0012 0120     		movs	r0, #1
 731 0014 2040     		ands	r0, r4
 732 0016 0143     		orrs	r1, r0
 733              	.LVL87:
 152:Drivers/NRF24/nrf24.c **** }
 734              		.loc 1 152 2 is_stmt 0 view .LVU166
 735 0018 0020     		movs	r0, #0
 736 001a FFF7FEFF 		bl	nRF24_WriteReg
 737              	.LVL88:
 153:Drivers/NRF24/nrf24.c **** 
 738              		.loc 1 153 1 view .LVU167
 739              		@ sp needed
 740              	.LVL89:
 153:Drivers/NRF24/nrf24.c **** 
 741              		.loc 1 153 1 view .LVU168
 742 001e 10BD     		pop	{r4, pc}
 743              		.cfi_endproc
 744              	.LFE53:
 746              		.section	.text.nRF24_SetDynamicPayloadLength,"ax",%progbits
 747              		.align	1
 748              		.global	nRF24_SetDynamicPayloadLength
 749              		.syntax unified
 750              		.code	16
 751              		.thumb_func
 753              	nRF24_SetDynamicPayloadLength:
 754              	.LVL90:
 755              	.LFB54:
 158:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 756              		.loc 1 158 50 is_stmt 1 view -0
 757              		.cfi_startproc
 758              		@ args = 0, pretend = 0, frame = 0
 759              		@ frame_needed = 0, uses_anonymous_args = 0
 158:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 760              		.loc 1 158 50 is_stmt 0 view .LVU170
 761 0000 10B5     		push	{r4, lr}
 762              		.cfi_def_cfa_offset 8
 763              		.cfi_offset 4, -8
 764              		.cfi_offset 14, -4
 765 0002 0400     		movs	r4, r0
 159:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_FEATURE);
 766              		.loc 1 159 2 is_stmt 1 view .LVU171
 160:Drivers/NRF24/nrf24.c **** 	if(mode) {
 767              		.loc 1 160 2 view .LVU172
 160:Drivers/NRF24/nrf24.c **** 	if(mode) {
 768              		.loc 1 160 9 is_stmt 0 view .LVU173
 769 0004 1D20     		movs	r0, #29
 770              	.LVL91:
 160:Drivers/NRF24/nrf24.c **** 	if(mode) {
 771              		.loc 1 160 9 view .LVU174
 772 0006 FFF7FEFF 		bl	nRF24_ReadReg
 773              	.LVL92:
ARM GAS  /tmp/ccSBQZez.s 			page 25


 161:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg | nRF24_FEATURE_EN_DPL);
 774              		.loc 1 161 2 is_stmt 1 view .LVU175
 161:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg | nRF24_FEATURE_EN_DPL);
 775              		.loc 1 161 4 is_stmt 0 view .LVU176
 776 000a 002C     		cmp	r4, #0
 777 000c 0AD0     		beq	.L31
 162:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_DYNPD, 0x1F);
 778              		.loc 1 162 3 is_stmt 1 view .LVU177
 779 000e 0423     		movs	r3, #4
 780 0010 1843     		orrs	r0, r3
 781              	.LVL93:
 162:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_DYNPD, 0x1F);
 782              		.loc 1 162 3 is_stmt 0 view .LVU178
 783 0012 C1B2     		uxtb	r1, r0
 784 0014 1D20     		movs	r0, #29
 785 0016 FFF7FEFF 		bl	nRF24_WriteReg
 786              	.LVL94:
 163:Drivers/NRF24/nrf24.c **** 	} else {
 787              		.loc 1 163 3 is_stmt 1 view .LVU179
 788 001a 1F21     		movs	r1, #31
 789 001c 1C20     		movs	r0, #28
 790 001e FFF7FEFF 		bl	nRF24_WriteReg
 791              	.LVL95:
 792              	.L30:
 168:Drivers/NRF24/nrf24.c **** 
 793              		.loc 1 168 1 is_stmt 0 view .LVU180
 794              		@ sp needed
 795              	.LVL96:
 168:Drivers/NRF24/nrf24.c **** 
 796              		.loc 1 168 1 view .LVU181
 797 0022 10BD     		pop	{r4, pc}
 798              	.LVL97:
 799              	.L31:
 165:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_DYNPD, 0x0);
 800              		.loc 1 165 3 is_stmt 1 view .LVU182
 801 0024 0423     		movs	r3, #4
 802 0026 9843     		bics	r0, r3
 803              	.LVL98:
 165:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_DYNPD, 0x0);
 804              		.loc 1 165 3 is_stmt 0 view .LVU183
 805 0028 C1B2     		uxtb	r1, r0
 806 002a 1D20     		movs	r0, #29
 807 002c FFF7FEFF 		bl	nRF24_WriteReg
 808              	.LVL99:
 166:Drivers/NRF24/nrf24.c **** 	}
 809              		.loc 1 166 3 is_stmt 1 view .LVU184
 810 0030 0021     		movs	r1, #0
 811 0032 1C20     		movs	r0, #28
 812 0034 FFF7FEFF 		bl	nRF24_WriteReg
 813              	.LVL100:
 168:Drivers/NRF24/nrf24.c **** 
 814              		.loc 1 168 1 is_stmt 0 view .LVU185
 815 0038 F3E7     		b	.L30
 816              		.cfi_endproc
 817              	.LFE54:
 819              		.section	.text.nRF24_SetPayloadWithAck,"ax",%progbits
 820              		.align	1
ARM GAS  /tmp/ccSBQZez.s 			page 26


 821              		.global	nRF24_SetPayloadWithAck
 822              		.syntax unified
 823              		.code	16
 824              		.thumb_func
 826              	nRF24_SetPayloadWithAck:
 827              	.LVL101:
 828              	.LFB55:
 173:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 829              		.loc 1 173 44 is_stmt 1 view -0
 830              		.cfi_startproc
 831              		@ args = 0, pretend = 0, frame = 0
 832              		@ frame_needed = 0, uses_anonymous_args = 0
 173:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 833              		.loc 1 173 44 is_stmt 0 view .LVU187
 834 0000 10B5     		push	{r4, lr}
 835              		.cfi_def_cfa_offset 8
 836              		.cfi_offset 4, -8
 837              		.cfi_offset 14, -4
 838 0002 0400     		movs	r4, r0
 174:Drivers/NRF24/nrf24.c **** 	reg  = nRF24_ReadReg(nRF24_REG_FEATURE);
 839              		.loc 1 174 2 is_stmt 1 view .LVU188
 175:Drivers/NRF24/nrf24.c **** 	if(mode) {
 840              		.loc 1 175 2 view .LVU189
 175:Drivers/NRF24/nrf24.c **** 	if(mode) {
 841              		.loc 1 175 9 is_stmt 0 view .LVU190
 842 0004 1D20     		movs	r0, #29
 843              	.LVL102:
 175:Drivers/NRF24/nrf24.c **** 	if(mode) {
 844              		.loc 1 175 9 view .LVU191
 845 0006 FFF7FEFF 		bl	nRF24_ReadReg
 846              	.LVL103:
 176:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg | nRF24_FEATURE_EN_ACK_PAY);
 847              		.loc 1 176 2 is_stmt 1 view .LVU192
 176:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_FEATURE, reg | nRF24_FEATURE_EN_ACK_PAY);
 848              		.loc 1 176 4 is_stmt 0 view .LVU193
 849 000a 002C     		cmp	r4, #0
 850 000c 06D0     		beq	.L34
 177:Drivers/NRF24/nrf24.c **** 	} else {
 851              		.loc 1 177 3 is_stmt 1 view .LVU194
 852 000e 0223     		movs	r3, #2
 853 0010 1843     		orrs	r0, r3
 854              	.LVL104:
 177:Drivers/NRF24/nrf24.c **** 	} else {
 855              		.loc 1 177 3 is_stmt 0 view .LVU195
 856 0012 C1B2     		uxtb	r1, r0
 857 0014 1D20     		movs	r0, #29
 858 0016 FFF7FEFF 		bl	nRF24_WriteReg
 859              	.LVL105:
 860              	.L33:
 181:Drivers/NRF24/nrf24.c **** 
 861              		.loc 1 181 1 view .LVU196
 862              		@ sp needed
 863              	.LVL106:
 181:Drivers/NRF24/nrf24.c **** 
 864              		.loc 1 181 1 view .LVU197
 865 001a 10BD     		pop	{r4, pc}
 866              	.LVL107:
ARM GAS  /tmp/ccSBQZez.s 			page 27


 867              	.L34:
 179:Drivers/NRF24/nrf24.c **** 	}
 868              		.loc 1 179 3 is_stmt 1 view .LVU198
 869 001c 0223     		movs	r3, #2
 870 001e 9843     		bics	r0, r3
 871              	.LVL108:
 179:Drivers/NRF24/nrf24.c **** 	}
 872              		.loc 1 179 3 is_stmt 0 view .LVU199
 873 0020 C1B2     		uxtb	r1, r0
 874 0022 1D20     		movs	r0, #29
 875 0024 FFF7FEFF 		bl	nRF24_WriteReg
 876              	.LVL109:
 181:Drivers/NRF24/nrf24.c **** 
 877              		.loc 1 181 1 view .LVU200
 878 0028 F7E7     		b	.L33
 879              		.cfi_endproc
 880              	.LFE55:
 882              		.section	.text.nRF24_SetCRCScheme,"ax",%progbits
 883              		.align	1
 884              		.global	nRF24_SetCRCScheme
 885              		.syntax unified
 886              		.code	16
 887              		.thumb_func
 889              	nRF24_SetCRCScheme:
 890              	.LVL110:
 891              	.LFB56:
 188:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 892              		.loc 1 188 41 is_stmt 1 view -0
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 0, uses_anonymous_args = 0
 188:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 896              		.loc 1 188 41 is_stmt 0 view .LVU202
 897 0000 10B5     		push	{r4, lr}
 898              		.cfi_def_cfa_offset 8
 899              		.cfi_offset 4, -8
 900              		.cfi_offset 14, -4
 901 0002 0400     		movs	r4, r0
 189:Drivers/NRF24/nrf24.c **** 
 902              		.loc 1 189 2 is_stmt 1 view .LVU203
 192:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_CRC;
 903              		.loc 1 192 2 view .LVU204
 192:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_CRC;
 904              		.loc 1 192 9 is_stmt 0 view .LVU205
 905 0004 0020     		movs	r0, #0
 906              	.LVL111:
 192:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_CRC;
 907              		.loc 1 192 9 view .LVU206
 908 0006 FFF7FEFF 		bl	nRF24_ReadReg
 909              	.LVL112:
 193:Drivers/NRF24/nrf24.c **** 	reg |= (scheme & nRF24_MASK_CRC);
 910              		.loc 1 193 2 is_stmt 1 view .LVU207
 193:Drivers/NRF24/nrf24.c **** 	reg |= (scheme & nRF24_MASK_CRC);
 911              		.loc 1 193 6 is_stmt 0 view .LVU208
 912 000a 0C23     		movs	r3, #12
 913 000c 0100     		movs	r1, r0
 914 000e 9943     		bics	r1, r3
ARM GAS  /tmp/ccSBQZez.s 			page 28


 915 0010 C9B2     		uxtb	r1, r1
 916              	.LVL113:
 194:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_CONFIG, reg);
 917              		.loc 1 194 2 is_stmt 1 view .LVU209
 195:Drivers/NRF24/nrf24.c **** }
 918              		.loc 1 195 2 view .LVU210
 919 0012 0C20     		movs	r0, #12
 920 0014 2040     		ands	r0, r4
 921 0016 0143     		orrs	r1, r0
 922              	.LVL114:
 195:Drivers/NRF24/nrf24.c **** }
 923              		.loc 1 195 2 is_stmt 0 view .LVU211
 924 0018 0020     		movs	r0, #0
 925 001a FFF7FEFF 		bl	nRF24_WriteReg
 926              	.LVL115:
 196:Drivers/NRF24/nrf24.c **** 
 927              		.loc 1 196 1 view .LVU212
 928              		@ sp needed
 929              	.LVL116:
 196:Drivers/NRF24/nrf24.c **** 
 930              		.loc 1 196 1 view .LVU213
 931 001e 10BD     		pop	{r4, pc}
 932              		.cfi_endproc
 933              	.LFE56:
 935              		.section	.text.nRF24_SetRFChannel,"ax",%progbits
 936              		.align	1
 937              		.global	nRF24_SetRFChannel
 938              		.syntax unified
 939              		.code	16
 940              		.thumb_func
 942              	nRF24_SetRFChannel:
 943              	.LVL117:
 944              	.LFB57:
 203:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, channel);
 945              		.loc 1 203 42 is_stmt 1 view -0
 946              		.cfi_startproc
 947              		@ args = 0, pretend = 0, frame = 0
 948              		@ frame_needed = 0, uses_anonymous_args = 0
 203:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, channel);
 949              		.loc 1 203 42 is_stmt 0 view .LVU215
 950 0000 10B5     		push	{r4, lr}
 951              		.cfi_def_cfa_offset 8
 952              		.cfi_offset 4, -8
 953              		.cfi_offset 14, -4
 954 0002 0100     		movs	r1, r0
 204:Drivers/NRF24/nrf24.c **** }
 955              		.loc 1 204 2 is_stmt 1 view .LVU216
 956 0004 0520     		movs	r0, #5
 957              	.LVL118:
 204:Drivers/NRF24/nrf24.c **** }
 958              		.loc 1 204 2 is_stmt 0 view .LVU217
 959 0006 FFF7FEFF 		bl	nRF24_WriteReg
 960              	.LVL119:
 205:Drivers/NRF24/nrf24.c **** 
 961              		.loc 1 205 1 view .LVU218
 962              		@ sp needed
 963 000a 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccSBQZez.s 			page 29


 964              		.cfi_endproc
 965              	.LFE57:
 967              		.section	.text.nRF24_SetAutoRetr,"ax",%progbits
 968              		.align	1
 969              		.global	nRF24_SetAutoRetr
 970              		.syntax unified
 971              		.code	16
 972              		.thumb_func
 974              	nRF24_SetAutoRetr:
 975              	.LVL120:
 976              	.LFB58:
 212:Drivers/NRF24/nrf24.c **** 	// Set auto retransmit settings (SETUP_RETR register)
 977              		.loc 1 212 50 is_stmt 1 view -0
 978              		.cfi_startproc
 979              		@ args = 0, pretend = 0, frame = 0
 980              		@ frame_needed = 0, uses_anonymous_args = 0
 212:Drivers/NRF24/nrf24.c **** 	// Set auto retransmit settings (SETUP_RETR register)
 981              		.loc 1 212 50 is_stmt 0 view .LVU220
 982 0000 10B5     		push	{r4, lr}
 983              		.cfi_def_cfa_offset 8
 984              		.cfi_offset 4, -8
 985              		.cfi_offset 14, -4
 214:Drivers/NRF24/nrf24.c **** }
 986              		.loc 1 214 2 is_stmt 1 view .LVU221
 987 0002 0F23     		movs	r3, #15
 988 0004 0B40     		ands	r3, r1
 989 0006 0001     		lsls	r0, r0, #4
 990              	.LVL121:
 214:Drivers/NRF24/nrf24.c **** }
 991              		.loc 1 214 2 is_stmt 0 view .LVU222
 992 0008 0343     		orrs	r3, r0
 993 000a D9B2     		uxtb	r1, r3
 994              	.LVL122:
 214:Drivers/NRF24/nrf24.c **** }
 995              		.loc 1 214 2 view .LVU223
 996 000c 0420     		movs	r0, #4
 997 000e FFF7FEFF 		bl	nRF24_WriteReg
 998              	.LVL123:
 215:Drivers/NRF24/nrf24.c **** 
 999              		.loc 1 215 1 view .LVU224
 1000              		@ sp needed
 1001 0012 10BD     		pop	{r4, pc}
 1002              		.cfi_endproc
 1003              	.LFE58:
 1005              		.section	.text.nRF24_SetAddrWidth,"ax",%progbits
 1006              		.align	1
 1007              		.global	nRF24_SetAddrWidth
 1008              		.syntax unified
 1009              		.code	16
 1010              		.thumb_func
 1012              	nRF24_SetAddrWidth:
 1013              	.LVL124:
 1014              	.LFB59:
 221:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_AW, addr_width - 2);
 1015              		.loc 1 221 45 is_stmt 1 view -0
 1016              		.cfi_startproc
 1017              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccSBQZez.s 			page 30


 1018              		@ frame_needed = 0, uses_anonymous_args = 0
 221:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_AW, addr_width - 2);
 1019              		.loc 1 221 45 is_stmt 0 view .LVU226
 1020 0000 10B5     		push	{r4, lr}
 1021              		.cfi_def_cfa_offset 8
 1022              		.cfi_offset 4, -8
 1023              		.cfi_offset 14, -4
 222:Drivers/NRF24/nrf24.c **** }
 1024              		.loc 1 222 2 is_stmt 1 view .LVU227
 1025 0002 0238     		subs	r0, r0, #2
 1026              	.LVL125:
 222:Drivers/NRF24/nrf24.c **** }
 1027              		.loc 1 222 2 is_stmt 0 view .LVU228
 1028 0004 C1B2     		uxtb	r1, r0
 1029 0006 0320     		movs	r0, #3
 1030              	.LVL126:
 222:Drivers/NRF24/nrf24.c **** }
 1031              		.loc 1 222 2 view .LVU229
 1032 0008 FFF7FEFF 		bl	nRF24_WriteReg
 1033              	.LVL127:
 223:Drivers/NRF24/nrf24.c **** 
 1034              		.loc 1 223 1 view .LVU230
 1035              		@ sp needed
 1036 000c 10BD     		pop	{r4, pc}
 1037              		.cfi_endproc
 1038              	.LFE59:
 1040              		.section	.text.nRF24_SetAddr,"ax",%progbits
 1041              		.align	1
 1042              		.global	nRF24_SetAddr
 1043              		.syntax unified
 1044              		.code	16
 1045              		.thumb_func
 1047              	nRF24_SetAddr:
 1048              	.LVL128:
 1049              	.LFB60:
 235:Drivers/NRF24/nrf24.c **** 	uint8_t addr_width;
 1050              		.loc 1 235 55 is_stmt 1 view -0
 1051              		.cfi_startproc
 1052              		@ args = 0, pretend = 0, frame = 0
 1053              		@ frame_needed = 0, uses_anonymous_args = 0
 235:Drivers/NRF24/nrf24.c **** 	uint8_t addr_width;
 1054              		.loc 1 235 55 is_stmt 0 view .LVU232
 1055 0000 70B5     		push	{r4, r5, r6, lr}
 1056              		.cfi_def_cfa_offset 16
 1057              		.cfi_offset 4, -16
 1058              		.cfi_offset 5, -12
 1059              		.cfi_offset 6, -8
 1060              		.cfi_offset 14, -4
 1061 0002 0600     		movs	r6, r0
 1062 0004 0D00     		movs	r5, r1
 236:Drivers/NRF24/nrf24.c **** 
 1063              		.loc 1 236 2 is_stmt 1 view .LVU233
 239:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPETX:
 1064              		.loc 1 239 2 view .LVU234
 1065 0006 0528     		cmp	r0, #5
 1066 0008 04D8     		bhi	.L41
 1067 000a 0228     		cmp	r0, #2
ARM GAS  /tmp/ccSBQZez.s 			page 31


 1068 000c 27D2     		bcs	.L42
 1069 000e 0128     		cmp	r0, #1
 1070 0010 24D8     		bhi	.L40
 1071 0012 01E0     		b	.L44
 1072              	.L41:
 1073 0014 0628     		cmp	r0, #6
 1074 0016 21D1     		bne	.L40
 1075              	.L44:
 244:Drivers/NRF24/nrf24.c **** 			// Write address in reverse order (LSByte first)
 1076              		.loc 1 244 4 view .LVU235
 244:Drivers/NRF24/nrf24.c **** 			// Write address in reverse order (LSByte first)
 1077              		.loc 1 244 17 is_stmt 0 view .LVU236
 1078 0018 0320     		movs	r0, #3
 1079              	.LVL129:
 244:Drivers/NRF24/nrf24.c **** 			// Write address in reverse order (LSByte first)
 1080              		.loc 1 244 17 view .LVU237
 1081 001a FFF7FEFF 		bl	nRF24_ReadReg
 1082              	.LVL130:
 244:Drivers/NRF24/nrf24.c **** 			// Write address in reverse order (LSByte first)
 1083              		.loc 1 244 15 discriminator 1 view .LVU238
 1084 001e 0130     		adds	r0, r0, #1
 1085 0020 C4B2     		uxtb	r4, r0
 1086              	.LVL131:
 246:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_L();
 1087              		.loc 1 246 4 is_stmt 1 view .LVU239
 246:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_L();
 1088              		.loc 1 246 9 is_stmt 0 view .LVU240
 1089 0022 2D19     		adds	r5, r5, r4
 1090              	.LVL132:
 247:Drivers/NRF24/nrf24.c **** 			nRF24_LL_RW(nRF24_CMD_W_REGISTER | nRF24_ADDR_REGS[pipe]);
 1091              		.loc 1 247 4 is_stmt 1 view .LVU241
 1092              	.LBB56:
 1093              	.LBI56:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 1094              		.loc 2 20 20 view .LVU242
 1095              	.LBB57:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 1096              		.loc 2 21 5 view .LVU243
 1097 0024 A020     		movs	r0, #160
 1098 0026 0022     		movs	r2, #0
 1099 0028 0221     		movs	r1, #2
 1100 002a C005     		lsls	r0, r0, #23
 1101 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1102              	.LVL133:
 1103              	.LBE57:
 1104              	.LBE56:
 248:Drivers/NRF24/nrf24.c **** 			do {
 1105              		.loc 1 248 4 view .LVU244
 248:Drivers/NRF24/nrf24.c **** 			do {
 1106              		.loc 1 248 54 is_stmt 0 view .LVU245
 1107 0030 0E4B     		ldr	r3, .L46
 1108 0032 985D     		ldrb	r0, [r3, r6]
 248:Drivers/NRF24/nrf24.c **** 			do {
 1109              		.loc 1 248 4 view .LVU246
 1110 0034 2023     		movs	r3, #32
 1111 0036 1843     		orrs	r0, r3
 1112 0038 C0B2     		uxtb	r0, r0
ARM GAS  /tmp/ccSBQZez.s 			page 32


 1113 003a FFF7FEFF 		bl	nRF24_LL_RW
 1114              	.LVL134:
 1115              	.L45:
 249:Drivers/NRF24/nrf24.c **** 				nRF24_LL_RW(*addr--);
 1116              		.loc 1 249 4 is_stmt 1 view .LVU247
 250:Drivers/NRF24/nrf24.c **** 			} while (addr_width--);
 1117              		.loc 1 250 5 view .LVU248
 250:Drivers/NRF24/nrf24.c **** 			} while (addr_width--);
 1118              		.loc 1 250 5 is_stmt 0 view .LVU249
 1119 003e 2878     		ldrb	r0, [r5]
 1120 0040 013D     		subs	r5, r5, #1
 1121              	.LVL135:
 250:Drivers/NRF24/nrf24.c **** 			} while (addr_width--);
 1122              		.loc 1 250 5 view .LVU250
 1123 0042 FFF7FEFF 		bl	nRF24_LL_RW
 1124              	.LVL136:
 251:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_H();
 1125              		.loc 1 251 13 is_stmt 1 discriminator 1 view .LVU251
 1126 0046 2300     		movs	r3, r4
 251:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_H();
 1127              		.loc 1 251 23 is_stmt 0 discriminator 1 view .LVU252
 1128 0048 013C     		subs	r4, r4, #1
 1129              	.LVL137:
 251:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_H();
 1130              		.loc 1 251 23 discriminator 1 view .LVU253
 1131 004a E4B2     		uxtb	r4, r4
 1132              	.LVL138:
 251:Drivers/NRF24/nrf24.c **** 			nRF24_CSN_H();
 1133              		.loc 1 251 13 discriminator 1 view .LVU254
 1134 004c 002B     		cmp	r3, #0
 1135 004e F6D1     		bne	.L45
 252:Drivers/NRF24/nrf24.c **** 			break;
 1136              		.loc 1 252 4 is_stmt 1 view .LVU255
 1137              	.LBB58:
 1138              	.LBI58:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 1139              		.loc 2 25 20 view .LVU256
 1140              	.LBB59:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 1141              		.loc 2 26 5 view .LVU257
 1142 0050 A020     		movs	r0, #160
 1143 0052 0122     		movs	r2, #1
 1144 0054 0221     		movs	r1, #2
 1145 0056 C005     		lsls	r0, r0, #23
 1146 0058 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1147              	.LVL139:
 1148              	.LBE59:
 1149              	.LBE58:
 253:Drivers/NRF24/nrf24.c **** 		case nRF24_PIPE2:
 1150              		.loc 1 253 4 view .LVU258
 1151              	.L40:
 265:Drivers/NRF24/nrf24.c **** 
 1152              		.loc 1 265 1 is_stmt 0 view .LVU259
 1153              		@ sp needed
 1154              	.LVL140:
 265:Drivers/NRF24/nrf24.c **** 
 1155              		.loc 1 265 1 view .LVU260
ARM GAS  /tmp/ccSBQZez.s 			page 33


 1156 005c 70BD     		pop	{r4, r5, r6, pc}
 1157              	.LVL141:
 1158              	.L42:
 259:Drivers/NRF24/nrf24.c **** 			break;
 1159              		.loc 1 259 4 is_stmt 1 view .LVU261
 259:Drivers/NRF24/nrf24.c **** 			break;
 1160              		.loc 1 259 34 is_stmt 0 view .LVU262
 1161 005e 034B     		ldr	r3, .L46
 1162 0060 185C     		ldrb	r0, [r3, r0]
 1163              	.LVL142:
 259:Drivers/NRF24/nrf24.c **** 			break;
 1164              		.loc 1 259 4 view .LVU263
 1165 0062 0978     		ldrb	r1, [r1]
 1166              	.LVL143:
 259:Drivers/NRF24/nrf24.c **** 			break;
 1167              		.loc 1 259 4 view .LVU264
 1168 0064 FFF7FEFF 		bl	nRF24_WriteReg
 1169              	.LVL144:
 260:Drivers/NRF24/nrf24.c **** 		default:
 1170              		.loc 1 260 4 is_stmt 1 view .LVU265
 265:Drivers/NRF24/nrf24.c **** 
 1171              		.loc 1 265 1 is_stmt 0 view .LVU266
 1172 0068 F8E7     		b	.L40
 1173              	.L47:
 1174 006a C046     		.align	2
 1175              	.L46:
 1176 006c 00000000 		.word	nRF24_ADDR_REGS
 1177              		.cfi_endproc
 1178              	.LFE60:
 1180              		.section	.text.nRF24_SetTXPower,"ax",%progbits
 1181              		.align	1
 1182              		.global	nRF24_SetTXPower
 1183              		.syntax unified
 1184              		.code	16
 1185              		.thumb_func
 1187              	nRF24_SetTXPower:
 1188              	.LVL145:
 1189              	.LFB61:
 270:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1190              		.loc 1 270 39 is_stmt 1 view -0
 1191              		.cfi_startproc
 1192              		@ args = 0, pretend = 0, frame = 0
 1193              		@ frame_needed = 0, uses_anonymous_args = 0
 270:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1194              		.loc 1 270 39 is_stmt 0 view .LVU268
 1195 0000 10B5     		push	{r4, lr}
 1196              		.cfi_def_cfa_offset 8
 1197              		.cfi_offset 4, -8
 1198              		.cfi_offset 14, -4
 1199 0002 0400     		movs	r4, r0
 271:Drivers/NRF24/nrf24.c **** 
 1200              		.loc 1 271 2 is_stmt 1 view .LVU269
 274:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_RF_PWR;
 1201              		.loc 1 274 2 view .LVU270
 274:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_RF_PWR;
 1202              		.loc 1 274 9 is_stmt 0 view .LVU271
 1203 0004 0620     		movs	r0, #6
ARM GAS  /tmp/ccSBQZez.s 			page 34


 1204              	.LVL146:
 274:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_RF_PWR;
 1205              		.loc 1 274 9 view .LVU272
 1206 0006 FFF7FEFF 		bl	nRF24_ReadReg
 1207              	.LVL147:
 275:Drivers/NRF24/nrf24.c **** 	reg |= tx_pwr;
 1208              		.loc 1 275 2 is_stmt 1 view .LVU273
 275:Drivers/NRF24/nrf24.c **** 	reg |= tx_pwr;
 1209              		.loc 1 275 6 is_stmt 0 view .LVU274
 1210 000a 0623     		movs	r3, #6
 1211 000c 0100     		movs	r1, r0
 1212 000e 9943     		bics	r1, r3
 1213 0010 C9B2     		uxtb	r1, r1
 1214              	.LVL148:
 276:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, reg);
 1215              		.loc 1 276 2 is_stmt 1 view .LVU275
 276:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, reg);
 1216              		.loc 1 276 6 is_stmt 0 view .LVU276
 1217 0012 2143     		orrs	r1, r4
 1218              	.LVL149:
 277:Drivers/NRF24/nrf24.c **** }
 1219              		.loc 1 277 2 is_stmt 1 view .LVU277
 1220 0014 0620     		movs	r0, #6
 1221 0016 FFF7FEFF 		bl	nRF24_WriteReg
 1222              	.LVL150:
 278:Drivers/NRF24/nrf24.c **** 
 1223              		.loc 1 278 1 is_stmt 0 view .LVU278
 1224              		@ sp needed
 1225              	.LVL151:
 278:Drivers/NRF24/nrf24.c **** 
 1226              		.loc 1 278 1 view .LVU279
 1227 001a 10BD     		pop	{r4, pc}
 1228              		.cfi_endproc
 1229              	.LFE61:
 1231              		.section	.text.nRF24_SetDataRate,"ax",%progbits
 1232              		.align	1
 1233              		.global	nRF24_SetDataRate
 1234              		.syntax unified
 1235              		.code	16
 1236              		.thumb_func
 1238              	nRF24_SetDataRate:
 1239              	.LVL152:
 1240              	.LFB62:
 283:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1241              		.loc 1 283 43 is_stmt 1 view -0
 1242              		.cfi_startproc
 1243              		@ args = 0, pretend = 0, frame = 0
 1244              		@ frame_needed = 0, uses_anonymous_args = 0
 283:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1245              		.loc 1 283 43 is_stmt 0 view .LVU281
 1246 0000 10B5     		push	{r4, lr}
 1247              		.cfi_def_cfa_offset 8
 1248              		.cfi_offset 4, -8
 1249              		.cfi_offset 14, -4
 1250 0002 0400     		movs	r4, r0
 284:Drivers/NRF24/nrf24.c **** 
 1251              		.loc 1 284 2 is_stmt 1 view .LVU282
ARM GAS  /tmp/ccSBQZez.s 			page 35


 287:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_DATARATE;
 1252              		.loc 1 287 2 view .LVU283
 287:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_DATARATE;
 1253              		.loc 1 287 9 is_stmt 0 view .LVU284
 1254 0004 0620     		movs	r0, #6
 1255              	.LVL153:
 287:Drivers/NRF24/nrf24.c **** 	reg &= ~nRF24_MASK_DATARATE;
 1256              		.loc 1 287 9 view .LVU285
 1257 0006 FFF7FEFF 		bl	nRF24_ReadReg
 1258              	.LVL154:
 288:Drivers/NRF24/nrf24.c **** 	reg |= data_rate;
 1259              		.loc 1 288 2 is_stmt 1 view .LVU286
 288:Drivers/NRF24/nrf24.c **** 	reg |= data_rate;
 1260              		.loc 1 288 6 is_stmt 0 view .LVU287
 1261 000a 2823     		movs	r3, #40
 1262 000c 0100     		movs	r1, r0
 1263 000e 9943     		bics	r1, r3
 1264 0010 C9B2     		uxtb	r1, r1
 1265              	.LVL155:
 289:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, reg);
 1266              		.loc 1 289 2 is_stmt 1 view .LVU288
 289:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, reg);
 1267              		.loc 1 289 6 is_stmt 0 view .LVU289
 1268 0012 2143     		orrs	r1, r4
 1269              	.LVL156:
 290:Drivers/NRF24/nrf24.c **** }
 1270              		.loc 1 290 2 is_stmt 1 view .LVU290
 1271 0014 0620     		movs	r0, #6
 1272 0016 FFF7FEFF 		bl	nRF24_WriteReg
 1273              	.LVL157:
 291:Drivers/NRF24/nrf24.c **** 
 1274              		.loc 1 291 1 is_stmt 0 view .LVU291
 1275              		@ sp needed
 1276              	.LVL158:
 291:Drivers/NRF24/nrf24.c **** 
 1277              		.loc 1 291 1 view .LVU292
 1278 001a 10BD     		pop	{r4, pc}
 1279              		.cfi_endproc
 1280              	.LFE62:
 1282              		.section	.text.nRF24_SetRXPipe,"ax",%progbits
 1283              		.align	1
 1284              		.global	nRF24_SetRXPipe
 1285              		.syntax unified
 1286              		.code	16
 1287              		.thumb_func
 1289              	nRF24_SetRXPipe:
 1290              	.LVL159:
 1291              	.LFB63:
 298:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1292              		.loc 1 298 75 is_stmt 1 view -0
 1293              		.cfi_startproc
 1294              		@ args = 0, pretend = 0, frame = 0
 1295              		@ frame_needed = 0, uses_anonymous_args = 0
 298:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1296              		.loc 1 298 75 is_stmt 0 view .LVU294
 1297 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1298              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccSBQZez.s 			page 36


 1299              		.cfi_offset 3, -24
 1300              		.cfi_offset 4, -20
 1301              		.cfi_offset 5, -16
 1302              		.cfi_offset 6, -12
 1303              		.cfi_offset 7, -8
 1304              		.cfi_offset 14, -4
 1305 0002 CE46     		mov	lr, r9
 1306 0004 4746     		mov	r7, r8
 1307 0006 80B5     		push	{r7, lr}
 1308              		.cfi_def_cfa_offset 32
 1309              		.cfi_offset 8, -32
 1310              		.cfi_offset 9, -28
 1311 0008 0700     		movs	r7, r0
 1312 000a 8946     		mov	r9, r1
 1313 000c 9046     		mov	r8, r2
 299:Drivers/NRF24/nrf24.c **** 
 1314              		.loc 1 299 2 is_stmt 1 view .LVU295
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1315              		.loc 1 302 2 view .LVU296
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1316              		.loc 1 302 9 is_stmt 0 view .LVU297
 1317 000e 0220     		movs	r0, #2
 1318              	.LVL160:
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1319              		.loc 1 302 9 view .LVU298
 1320 0010 FFF7FEFF 		bl	nRF24_ReadReg
 1321              	.LVL161:
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1322              		.loc 1 302 49 discriminator 1 view .LVU299
 1323 0014 0124     		movs	r4, #1
 1324 0016 BC40     		lsls	r4, r4, r7
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1325              		.loc 1 302 44 discriminator 1 view .LVU300
 1326 0018 66B2     		sxtb	r6, r4
 1327 001a E4B2     		uxtb	r4, r4
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1328              		.loc 1 302 59 discriminator 1 view .LVU301
 1329 001c 0100     		movs	r1, r0
 1330 001e 2143     		orrs	r1, r4
 302:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1331              		.loc 1 302 6 discriminator 1 view .LVU302
 1332 0020 3F25     		movs	r5, #63
 1333 0022 2940     		ands	r1, r5
 1334              	.LVL162:
 303:Drivers/NRF24/nrf24.c **** 
 1335              		.loc 1 303 2 is_stmt 1 view .LVU303
 1336 0024 0220     		movs	r0, #2
 1337 0026 FFF7FEFF 		bl	nRF24_WriteReg
 1338              	.LVL163:
 306:Drivers/NRF24/nrf24.c **** 
 1339              		.loc 1 306 2 view .LVU304
 306:Drivers/NRF24/nrf24.c **** 
 1340              		.loc 1 306 33 is_stmt 0 view .LVU305
 1341 002a 0C4B     		ldr	r3, .L54
 1342 002c D85D     		ldrb	r0, [r3, r7]
 306:Drivers/NRF24/nrf24.c **** 
 1343              		.loc 1 306 2 view .LVU306
ARM GAS  /tmp/ccSBQZez.s 			page 37


 1344 002e 4146     		mov	r1, r8
 1345 0030 2940     		ands	r1, r5
 1346 0032 FFF7FEFF 		bl	nRF24_WriteReg
 1347              	.LVL164:
 309:Drivers/NRF24/nrf24.c **** 	if (aa_state == nRF24_AA_ON) {
 1348              		.loc 1 309 2 is_stmt 1 view .LVU307
 309:Drivers/NRF24/nrf24.c **** 	if (aa_state == nRF24_AA_ON) {
 1349              		.loc 1 309 8 is_stmt 0 view .LVU308
 1350 0036 0120     		movs	r0, #1
 1351 0038 FFF7FEFF 		bl	nRF24_ReadReg
 1352              	.LVL165:
 310:Drivers/NRF24/nrf24.c **** 		reg |=  (1 << pipe);
 1353              		.loc 1 310 2 is_stmt 1 view .LVU309
 310:Drivers/NRF24/nrf24.c **** 		reg |=  (1 << pipe);
 1354              		.loc 1 310 5 is_stmt 0 view .LVU310
 1355 003c 4B46     		mov	r3, r9
 1356 003e 012B     		cmp	r3, #1
 1357 0040 08D0     		beq	.L53
 313:Drivers/NRF24/nrf24.c **** 	}
 1358              		.loc 1 313 3 is_stmt 1 view .LVU311
 313:Drivers/NRF24/nrf24.c **** 	}
 1359              		.loc 1 313 7 is_stmt 0 view .LVU312
 1360 0042 B043     		bics	r0, r6
 1361              	.LVL166:
 313:Drivers/NRF24/nrf24.c **** 	}
 1362              		.loc 1 313 7 view .LVU313
 1363 0044 C1B2     		uxtb	r1, r0
 1364              	.LVL167:
 1365              	.L52:
 315:Drivers/NRF24/nrf24.c **** }
 1366              		.loc 1 315 2 is_stmt 1 view .LVU314
 1367 0046 0120     		movs	r0, #1
 1368 0048 FFF7FEFF 		bl	nRF24_WriteReg
 1369              	.LVL168:
 316:Drivers/NRF24/nrf24.c **** 
 1370              		.loc 1 316 1 is_stmt 0 view .LVU315
 1371              		@ sp needed
 1372              	.LVL169:
 1373              	.LVL170:
 1374              	.LVL171:
 316:Drivers/NRF24/nrf24.c **** 
 1375              		.loc 1 316 1 view .LVU316
 1376 004c C0BC     		pop	{r6, r7}
 1377 004e B946     		mov	r9, r7
 1378 0050 B046     		mov	r8, r6
 1379 0052 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1380              	.LVL172:
 1381              	.L53:
 311:Drivers/NRF24/nrf24.c **** 	} else {
 1382              		.loc 1 311 3 is_stmt 1 view .LVU317
 311:Drivers/NRF24/nrf24.c **** 	} else {
 1383              		.loc 1 311 7 is_stmt 0 view .LVU318
 1384 0054 2043     		orrs	r0, r4
 1385              	.LVL173:
 311:Drivers/NRF24/nrf24.c **** 	} else {
 1386              		.loc 1 311 7 view .LVU319
 1387 0056 C1B2     		uxtb	r1, r0
ARM GAS  /tmp/ccSBQZez.s 			page 38


 1388              	.LVL174:
 311:Drivers/NRF24/nrf24.c **** 	} else {
 1389              		.loc 1 311 7 view .LVU320
 1390 0058 F5E7     		b	.L52
 1391              	.L55:
 1392 005a C046     		.align	2
 1393              	.L54:
 1394 005c 00000000 		.word	nRF24_RX_PW_PIPE
 1395              		.cfi_endproc
 1396              	.LFE63:
 1398              		.section	.text.nRF24_ClosePipe,"ax",%progbits
 1399              		.align	1
 1400              		.global	nRF24_ClosePipe
 1401              		.syntax unified
 1402              		.code	16
 1403              		.thumb_func
 1405              	nRF24_ClosePipe:
 1406              	.LVL175:
 1407              	.LFB64:
 321:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1408              		.loc 1 321 36 is_stmt 1 view -0
 1409              		.cfi_startproc
 1410              		@ args = 0, pretend = 0, frame = 0
 1411              		@ frame_needed = 0, uses_anonymous_args = 0
 321:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1412              		.loc 1 321 36 is_stmt 0 view .LVU322
 1413 0000 10B5     		push	{r4, lr}
 1414              		.cfi_def_cfa_offset 8
 1415              		.cfi_offset 4, -8
 1416              		.cfi_offset 14, -4
 1417 0002 0400     		movs	r4, r0
 322:Drivers/NRF24/nrf24.c **** 
 1418              		.loc 1 322 2 is_stmt 1 view .LVU323
 324:Drivers/NRF24/nrf24.c **** 	reg &= ~(1 << pipe);
 1419              		.loc 1 324 2 view .LVU324
 324:Drivers/NRF24/nrf24.c **** 	reg &= ~(1 << pipe);
 1420              		.loc 1 324 9 is_stmt 0 view .LVU325
 1421 0004 0220     		movs	r0, #2
 1422              	.LVL176:
 324:Drivers/NRF24/nrf24.c **** 	reg &= ~(1 << pipe);
 1423              		.loc 1 324 9 view .LVU326
 1424 0006 FFF7FEFF 		bl	nRF24_ReadReg
 1425              	.LVL177:
 325:Drivers/NRF24/nrf24.c **** 	reg &= nRF24_MASK_EN_RX;
 1426              		.loc 1 325 2 is_stmt 1 view .LVU327
 325:Drivers/NRF24/nrf24.c **** 	reg &= nRF24_MASK_EN_RX;
 1427              		.loc 1 325 13 is_stmt 0 view .LVU328
 1428 000a 0123     		movs	r3, #1
 1429 000c A340     		lsls	r3, r3, r4
 325:Drivers/NRF24/nrf24.c **** 	reg &= nRF24_MASK_EN_RX;
 1430              		.loc 1 325 6 view .LVU329
 1431 000e DB43     		mvns	r3, r3
 1432 0010 59B2     		sxtb	r1, r3
 1433 0012 0140     		ands	r1, r0
 1434              	.LVL178:
 326:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1435              		.loc 1 326 2 is_stmt 1 view .LVU330
ARM GAS  /tmp/ccSBQZez.s 			page 39


 326:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, reg);
 1436              		.loc 1 326 6 is_stmt 0 view .LVU331
 1437 0014 3F23     		movs	r3, #63
 1438 0016 1940     		ands	r1, r3
 1439              	.LVL179:
 327:Drivers/NRF24/nrf24.c **** }
 1440              		.loc 1 327 2 is_stmt 1 view .LVU332
 1441 0018 0220     		movs	r0, #2
 1442 001a FFF7FEFF 		bl	nRF24_WriteReg
 1443              	.LVL180:
 328:Drivers/NRF24/nrf24.c **** 
 1444              		.loc 1 328 1 is_stmt 0 view .LVU333
 1445              		@ sp needed
 1446              	.LVL181:
 328:Drivers/NRF24/nrf24.c **** 
 1447              		.loc 1 328 1 view .LVU334
 1448 001e 10BD     		pop	{r4, pc}
 1449              		.cfi_endproc
 1450              	.LFE64:
 1452              		.section	.text.nRF24_EnableAA,"ax",%progbits
 1453              		.align	1
 1454              		.global	nRF24_EnableAA
 1455              		.syntax unified
 1456              		.code	16
 1457              		.thumb_func
 1459              	nRF24_EnableAA:
 1460              	.LVL182:
 1461              	.LFB65:
 333:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1462              		.loc 1 333 35 is_stmt 1 view -0
 1463              		.cfi_startproc
 1464              		@ args = 0, pretend = 0, frame = 0
 1465              		@ frame_needed = 0, uses_anonymous_args = 0
 333:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1466              		.loc 1 333 35 is_stmt 0 view .LVU336
 1467 0000 10B5     		push	{r4, lr}
 1468              		.cfi_def_cfa_offset 8
 1469              		.cfi_offset 4, -8
 1470              		.cfi_offset 14, -4
 1471 0002 0400     		movs	r4, r0
 334:Drivers/NRF24/nrf24.c **** 
 1472              		.loc 1 334 2 is_stmt 1 view .LVU337
 337:Drivers/NRF24/nrf24.c **** 	reg |= (1 << pipe);
 1473              		.loc 1 337 2 view .LVU338
 337:Drivers/NRF24/nrf24.c **** 	reg |= (1 << pipe);
 1474              		.loc 1 337 9 is_stmt 0 view .LVU339
 1475 0004 0120     		movs	r0, #1
 1476              	.LVL183:
 337:Drivers/NRF24/nrf24.c **** 	reg |= (1 << pipe);
 1477              		.loc 1 337 9 view .LVU340
 1478 0006 FFF7FEFF 		bl	nRF24_ReadReg
 1479              	.LVL184:
 338:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1480              		.loc 1 338 2 is_stmt 1 view .LVU341
 338:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1481              		.loc 1 338 12 is_stmt 0 view .LVU342
 1482 000a 0123     		movs	r3, #1
ARM GAS  /tmp/ccSBQZez.s 			page 40


 1483 000c A340     		lsls	r3, r3, r4
 338:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1484              		.loc 1 338 6 view .LVU343
 1485 000e 1843     		orrs	r0, r3
 1486              	.LVL185:
 338:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1487              		.loc 1 338 6 view .LVU344
 1488 0010 C1B2     		uxtb	r1, r0
 1489              	.LVL186:
 339:Drivers/NRF24/nrf24.c **** }
 1490              		.loc 1 339 2 is_stmt 1 view .LVU345
 1491 0012 0120     		movs	r0, #1
 1492 0014 FFF7FEFF 		bl	nRF24_WriteReg
 1493              	.LVL187:
 340:Drivers/NRF24/nrf24.c **** 
 1494              		.loc 1 340 1 is_stmt 0 view .LVU346
 1495              		@ sp needed
 1496              	.LVL188:
 340:Drivers/NRF24/nrf24.c **** 
 1497              		.loc 1 340 1 view .LVU347
 1498 0018 10BD     		pop	{r4, pc}
 1499              		.cfi_endproc
 1500              	.LFE65:
 1502              		.section	.text.nRF24_DisableAA,"ax",%progbits
 1503              		.align	1
 1504              		.global	nRF24_DisableAA
 1505              		.syntax unified
 1506              		.code	16
 1507              		.thumb_func
 1509              	nRF24_DisableAA:
 1510              	.LVL189:
 1511              	.LFB66:
 345:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1512              		.loc 1 345 36 is_stmt 1 view -0
 1513              		.cfi_startproc
 1514              		@ args = 0, pretend = 0, frame = 0
 1515              		@ frame_needed = 0, uses_anonymous_args = 0
 345:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1516              		.loc 1 345 36 is_stmt 0 view .LVU349
 1517 0000 10B5     		push	{r4, lr}
 1518              		.cfi_def_cfa_offset 8
 1519              		.cfi_offset 4, -8
 1520              		.cfi_offset 14, -4
 1521 0002 0400     		movs	r4, r0
 346:Drivers/NRF24/nrf24.c **** 
 1522              		.loc 1 346 2 is_stmt 1 view .LVU350
 348:Drivers/NRF24/nrf24.c **** 		// Disable Auto-ACK for ALL pipes
 1523              		.loc 1 348 2 view .LVU351
 348:Drivers/NRF24/nrf24.c **** 		// Disable Auto-ACK for ALL pipes
 1524              		.loc 1 348 5 is_stmt 0 view .LVU352
 1525 0004 0528     		cmp	r0, #5
 1526 0006 04D9     		bls	.L59
 350:Drivers/NRF24/nrf24.c **** 	} else {
 1527              		.loc 1 350 3 is_stmt 1 view .LVU353
 1528 0008 0021     		movs	r1, #0
 1529 000a 0120     		movs	r0, #1
 1530              	.LVL190:
ARM GAS  /tmp/ccSBQZez.s 			page 41


 350:Drivers/NRF24/nrf24.c **** 	} else {
 1531              		.loc 1 350 3 is_stmt 0 view .LVU354
 1532 000c FFF7FEFF 		bl	nRF24_WriteReg
 1533              	.LVL191:
 1534              	.L58:
 357:Drivers/NRF24/nrf24.c **** 
 1535              		.loc 1 357 1 view .LVU355
 1536              		@ sp needed
 1537              	.LVL192:
 357:Drivers/NRF24/nrf24.c **** 
 1538              		.loc 1 357 1 view .LVU356
 1539 0010 10BD     		pop	{r4, pc}
 1540              	.LVL193:
 1541              	.L59:
 353:Drivers/NRF24/nrf24.c **** 		reg &= ~(1 << pipe);
 1542              		.loc 1 353 3 is_stmt 1 view .LVU357
 353:Drivers/NRF24/nrf24.c **** 		reg &= ~(1 << pipe);
 1543              		.loc 1 353 10 is_stmt 0 view .LVU358
 1544 0012 0120     		movs	r0, #1
 1545              	.LVL194:
 353:Drivers/NRF24/nrf24.c **** 		reg &= ~(1 << pipe);
 1546              		.loc 1 353 10 view .LVU359
 1547 0014 FFF7FEFF 		bl	nRF24_ReadReg
 1548              	.LVL195:
 354:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1549              		.loc 1 354 3 is_stmt 1 view .LVU360
 354:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1550              		.loc 1 354 14 is_stmt 0 view .LVU361
 1551 0018 0123     		movs	r3, #1
 1552 001a A340     		lsls	r3, r3, r4
 354:Drivers/NRF24/nrf24.c **** 		nRF24_WriteReg(nRF24_REG_EN_AA, reg);
 1553              		.loc 1 354 7 view .LVU362
 1554 001c DB43     		mvns	r3, r3
 1555 001e 59B2     		sxtb	r1, r3
 1556 0020 0140     		ands	r1, r0
 1557 0022 C9B2     		uxtb	r1, r1
 1558              	.LVL196:
 355:Drivers/NRF24/nrf24.c **** 	}
 1559              		.loc 1 355 3 is_stmt 1 view .LVU363
 1560 0024 0120     		movs	r0, #1
 1561 0026 FFF7FEFF 		bl	nRF24_WriteReg
 1562              	.LVL197:
 357:Drivers/NRF24/nrf24.c **** 
 1563              		.loc 1 357 1 is_stmt 0 view .LVU364
 1564 002a F1E7     		b	.L58
 1565              		.cfi_endproc
 1566              	.LFE66:
 1568              		.section	.text.nRF24_GetStatus,"ax",%progbits
 1569              		.align	1
 1570              		.global	nRF24_GetStatus
 1571              		.syntax unified
 1572              		.code	16
 1573              		.thumb_func
 1575              	nRF24_GetStatus:
 1576              	.LFB67:
 361:Drivers/NRF24/nrf24.c **** 	return nRF24_ReadReg(nRF24_REG_STATUS);
 1577              		.loc 1 361 31 is_stmt 1 view -0
ARM GAS  /tmp/ccSBQZez.s 			page 42


 1578              		.cfi_startproc
 1579              		@ args = 0, pretend = 0, frame = 0
 1580              		@ frame_needed = 0, uses_anonymous_args = 0
 1581 0000 10B5     		push	{r4, lr}
 1582              		.cfi_def_cfa_offset 8
 1583              		.cfi_offset 4, -8
 1584              		.cfi_offset 14, -4
 362:Drivers/NRF24/nrf24.c **** }
 1585              		.loc 1 362 2 view .LVU366
 362:Drivers/NRF24/nrf24.c **** }
 1586              		.loc 1 362 9 is_stmt 0 view .LVU367
 1587 0002 0720     		movs	r0, #7
 1588 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1589              	.LVL198:
 363:Drivers/NRF24/nrf24.c **** 
 1590              		.loc 1 363 1 view .LVU368
 1591              		@ sp needed
 1592 0008 10BD     		pop	{r4, pc}
 1593              		.cfi_endproc
 1594              	.LFE67:
 1596              		.section	.text.nRF24_GetIRQFlags,"ax",%progbits
 1597              		.align	1
 1598              		.global	nRF24_GetIRQFlags
 1599              		.syntax unified
 1600              		.code	16
 1601              		.thumb_func
 1603              	nRF24_GetIRQFlags:
 1604              	.LFB68:
 367:Drivers/NRF24/nrf24.c **** 	return (nRF24_ReadReg(nRF24_REG_STATUS) & nRF24_MASK_STATUS_IRQ);
 1605              		.loc 1 367 33 is_stmt 1 view -0
 1606              		.cfi_startproc
 1607              		@ args = 0, pretend = 0, frame = 0
 1608              		@ frame_needed = 0, uses_anonymous_args = 0
 1609 0000 10B5     		push	{r4, lr}
 1610              		.cfi_def_cfa_offset 8
 1611              		.cfi_offset 4, -8
 1612              		.cfi_offset 14, -4
 368:Drivers/NRF24/nrf24.c **** }
 1613              		.loc 1 368 2 view .LVU370
 368:Drivers/NRF24/nrf24.c **** }
 1614              		.loc 1 368 10 is_stmt 0 view .LVU371
 1615 0002 0720     		movs	r0, #7
 1616 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1617              	.LVL199:
 368:Drivers/NRF24/nrf24.c **** }
 1618              		.loc 1 368 42 discriminator 1 view .LVU372
 1619 0008 7023     		movs	r3, #112
 1620 000a 1840     		ands	r0, r3
 369:Drivers/NRF24/nrf24.c **** 
 1621              		.loc 1 369 1 view .LVU373
 1622              		@ sp needed
 1623 000c 10BD     		pop	{r4, pc}
 1624              		.cfi_endproc
 1625              	.LFE68:
 1627              		.section	.text.nRF24_GetStatus_RXFIFO,"ax",%progbits
 1628              		.align	1
 1629              		.global	nRF24_GetStatus_RXFIFO
ARM GAS  /tmp/ccSBQZez.s 			page 43


 1630              		.syntax unified
 1631              		.code	16
 1632              		.thumb_func
 1634              	nRF24_GetStatus_RXFIFO:
 1635              	.LFB69:
 373:Drivers/NRF24/nrf24.c **** 	return (nRF24_ReadReg(nRF24_REG_FIFO_STATUS) & nRF24_MASK_RXFIFO);
 1636              		.loc 1 373 38 is_stmt 1 view -0
 1637              		.cfi_startproc
 1638              		@ args = 0, pretend = 0, frame = 0
 1639              		@ frame_needed = 0, uses_anonymous_args = 0
 1640 0000 10B5     		push	{r4, lr}
 1641              		.cfi_def_cfa_offset 8
 1642              		.cfi_offset 4, -8
 1643              		.cfi_offset 14, -4
 374:Drivers/NRF24/nrf24.c **** }
 1644              		.loc 1 374 2 view .LVU375
 374:Drivers/NRF24/nrf24.c **** }
 1645              		.loc 1 374 10 is_stmt 0 view .LVU376
 1646 0002 1720     		movs	r0, #23
 1647 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1648              	.LVL200:
 374:Drivers/NRF24/nrf24.c **** }
 1649              		.loc 1 374 47 discriminator 1 view .LVU377
 1650 0008 0323     		movs	r3, #3
 1651 000a 1840     		ands	r0, r3
 375:Drivers/NRF24/nrf24.c **** 
 1652              		.loc 1 375 1 view .LVU378
 1653              		@ sp needed
 1654 000c 10BD     		pop	{r4, pc}
 1655              		.cfi_endproc
 1656              	.LFE69:
 1658              		.section	.text.nRF24_GetStatus_TXFIFO,"ax",%progbits
 1659              		.align	1
 1660              		.global	nRF24_GetStatus_TXFIFO
 1661              		.syntax unified
 1662              		.code	16
 1663              		.thumb_func
 1665              	nRF24_GetStatus_TXFIFO:
 1666              	.LFB70:
 380:Drivers/NRF24/nrf24.c **** 	return ((nRF24_ReadReg(nRF24_REG_FIFO_STATUS) & nRF24_MASK_TXFIFO) >> 4);
 1667              		.loc 1 380 38 is_stmt 1 view -0
 1668              		.cfi_startproc
 1669              		@ args = 0, pretend = 0, frame = 0
 1670              		@ frame_needed = 0, uses_anonymous_args = 0
 1671 0000 10B5     		push	{r4, lr}
 1672              		.cfi_def_cfa_offset 8
 1673              		.cfi_offset 4, -8
 1674              		.cfi_offset 14, -4
 381:Drivers/NRF24/nrf24.c **** }
 1675              		.loc 1 381 2 view .LVU380
 381:Drivers/NRF24/nrf24.c **** }
 1676              		.loc 1 381 11 is_stmt 0 view .LVU381
 1677 0002 1720     		movs	r0, #23
 1678 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1679              	.LVL201:
 381:Drivers/NRF24/nrf24.c **** }
 1680              		.loc 1 381 69 discriminator 1 view .LVU382
ARM GAS  /tmp/ccSBQZez.s 			page 44


 1681 0008 0311     		asrs	r3, r0, #4
 1682 000a 0320     		movs	r0, #3
 1683 000c 1840     		ands	r0, r3
 382:Drivers/NRF24/nrf24.c **** 
 1684              		.loc 1 382 1 view .LVU383
 1685              		@ sp needed
 1686 000e 10BD     		pop	{r4, pc}
 1687              		.cfi_endproc
 1688              	.LFE70:
 1690              		.section	.text.nRF24_GetRXSource,"ax",%progbits
 1691              		.align	1
 1692              		.global	nRF24_GetRXSource
 1693              		.syntax unified
 1694              		.code	16
 1695              		.thumb_func
 1697              	nRF24_GetRXSource:
 1698              	.LFB71:
 386:Drivers/NRF24/nrf24.c **** 	return ((nRF24_ReadReg(nRF24_REG_STATUS) & nRF24_MASK_RX_P_NO) >> 1);
 1699              		.loc 1 386 33 is_stmt 1 view -0
 1700              		.cfi_startproc
 1701              		@ args = 0, pretend = 0, frame = 0
 1702              		@ frame_needed = 0, uses_anonymous_args = 0
 1703 0000 10B5     		push	{r4, lr}
 1704              		.cfi_def_cfa_offset 8
 1705              		.cfi_offset 4, -8
 1706              		.cfi_offset 14, -4
 387:Drivers/NRF24/nrf24.c **** }
 1707              		.loc 1 387 2 view .LVU385
 387:Drivers/NRF24/nrf24.c **** }
 1708              		.loc 1 387 11 is_stmt 0 view .LVU386
 1709 0002 0720     		movs	r0, #7
 1710 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1711              	.LVL202:
 387:Drivers/NRF24/nrf24.c **** }
 1712              		.loc 1 387 65 discriminator 1 view .LVU387
 1713 0008 4310     		asrs	r3, r0, #1
 1714 000a 0720     		movs	r0, #7
 1715 000c 1840     		ands	r0, r3
 388:Drivers/NRF24/nrf24.c **** 
 1716              		.loc 1 388 1 view .LVU388
 1717              		@ sp needed
 1718 000e 10BD     		pop	{r4, pc}
 1719              		.cfi_endproc
 1720              	.LFE71:
 1722              		.section	.text.nRF24_GetRetransmitCounters,"ax",%progbits
 1723              		.align	1
 1724              		.global	nRF24_GetRetransmitCounters
 1725              		.syntax unified
 1726              		.code	16
 1727              		.thumb_func
 1729              	nRF24_GetRetransmitCounters:
 1730              	.LFB72:
 394:Drivers/NRF24/nrf24.c **** 	return (nRF24_ReadReg(nRF24_REG_OBSERVE_TX));
 1731              		.loc 1 394 43 is_stmt 1 view -0
 1732              		.cfi_startproc
 1733              		@ args = 0, pretend = 0, frame = 0
 1734              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccSBQZez.s 			page 45


 1735 0000 10B5     		push	{r4, lr}
 1736              		.cfi_def_cfa_offset 8
 1737              		.cfi_offset 4, -8
 1738              		.cfi_offset 14, -4
 395:Drivers/NRF24/nrf24.c **** }
 1739              		.loc 1 395 2 view .LVU390
 395:Drivers/NRF24/nrf24.c **** }
 1740              		.loc 1 395 10 is_stmt 0 view .LVU391
 1741 0002 0820     		movs	r0, #8
 1742 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1743              	.LVL203:
 396:Drivers/NRF24/nrf24.c **** 
 1744              		.loc 1 396 1 view .LVU392
 1745              		@ sp needed
 1746 0008 10BD     		pop	{r4, pc}
 1747              		.cfi_endproc
 1748              	.LFE72:
 1750              		.section	.text.nRF24_ResetPLOS,"ax",%progbits
 1751              		.align	1
 1752              		.global	nRF24_ResetPLOS
 1753              		.syntax unified
 1754              		.code	16
 1755              		.thumb_func
 1757              	nRF24_ResetPLOS:
 1758              	.LFB73:
 399:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1759              		.loc 1 399 28 is_stmt 1 view -0
 1760              		.cfi_startproc
 1761              		@ args = 0, pretend = 0, frame = 0
 1762              		@ frame_needed = 0, uses_anonymous_args = 0
 1763 0000 10B5     		push	{r4, lr}
 1764              		.cfi_def_cfa_offset 8
 1765              		.cfi_offset 4, -8
 1766              		.cfi_offset 14, -4
 400:Drivers/NRF24/nrf24.c **** 
 1767              		.loc 1 400 2 view .LVU394
 403:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, reg);
 1768              		.loc 1 403 2 view .LVU395
 403:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, reg);
 1769              		.loc 1 403 8 is_stmt 0 view .LVU396
 1770 0002 0520     		movs	r0, #5
 1771 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1772              	.LVL204:
 1773 0008 0100     		movs	r1, r0
 1774              	.LVL205:
 404:Drivers/NRF24/nrf24.c **** }
 1775              		.loc 1 404 2 is_stmt 1 view .LVU397
 1776 000a 0520     		movs	r0, #5
 1777 000c FFF7FEFF 		bl	nRF24_WriteReg
 1778              	.LVL206:
 405:Drivers/NRF24/nrf24.c **** 
 1779              		.loc 1 405 1 is_stmt 0 view .LVU398
 1780              		@ sp needed
 1781 0010 10BD     		pop	{r4, pc}
 1782              		.cfi_endproc
 1783              	.LFE73:
 1785              		.section	.text.nRF24_FlushTX,"ax",%progbits
ARM GAS  /tmp/ccSBQZez.s 			page 46


 1786              		.align	1
 1787              		.global	nRF24_FlushTX
 1788              		.syntax unified
 1789              		.code	16
 1790              		.thumb_func
 1792              	nRF24_FlushTX:
 1793              	.LFB74:
 408:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_CMD_FLUSH_TX, nRF24_CMD_NOP);
 1794              		.loc 1 408 26 is_stmt 1 view -0
 1795              		.cfi_startproc
 1796              		@ args = 0, pretend = 0, frame = 0
 1797              		@ frame_needed = 0, uses_anonymous_args = 0
 1798 0000 10B5     		push	{r4, lr}
 1799              		.cfi_def_cfa_offset 8
 1800              		.cfi_offset 4, -8
 1801              		.cfi_offset 14, -4
 409:Drivers/NRF24/nrf24.c **** }
 1802              		.loc 1 409 2 view .LVU400
 1803 0002 FF21     		movs	r1, #255
 1804 0004 E120     		movs	r0, #225
 1805 0006 FFF7FEFF 		bl	nRF24_WriteReg
 1806              	.LVL207:
 410:Drivers/NRF24/nrf24.c **** 
 1807              		.loc 1 410 1 is_stmt 0 view .LVU401
 1808              		@ sp needed
 1809 000a 10BD     		pop	{r4, pc}
 1810              		.cfi_endproc
 1811              	.LFE74:
 1813              		.section	.text.nRF24_FlushRX,"ax",%progbits
 1814              		.align	1
 1815              		.global	nRF24_FlushRX
 1816              		.syntax unified
 1817              		.code	16
 1818              		.thumb_func
 1820              	nRF24_FlushRX:
 1821              	.LFB75:
 413:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_CMD_FLUSH_RX, nRF24_CMD_NOP);
 1822              		.loc 1 413 26 is_stmt 1 view -0
 1823              		.cfi_startproc
 1824              		@ args = 0, pretend = 0, frame = 0
 1825              		@ frame_needed = 0, uses_anonymous_args = 0
 1826 0000 10B5     		push	{r4, lr}
 1827              		.cfi_def_cfa_offset 8
 1828              		.cfi_offset 4, -8
 1829              		.cfi_offset 14, -4
 414:Drivers/NRF24/nrf24.c **** }
 1830              		.loc 1 414 2 view .LVU403
 1831 0002 FF21     		movs	r1, #255
 1832 0004 E220     		movs	r0, #226
 1833 0006 FFF7FEFF 		bl	nRF24_WriteReg
 1834              	.LVL208:
 415:Drivers/NRF24/nrf24.c **** 
 1835              		.loc 1 415 1 is_stmt 0 view .LVU404
 1836              		@ sp needed
 1837 000a 10BD     		pop	{r4, pc}
 1838              		.cfi_endproc
 1839              	.LFE75:
ARM GAS  /tmp/ccSBQZez.s 			page 47


 1841              		.section	.text.nRF24_ReadPayloadGeneric,"ax",%progbits
 1842              		.align	1
 1843              		.syntax unified
 1844              		.code	16
 1845              		.thumb_func
 1847              	nRF24_ReadPayloadGeneric:
 1848              	.LVL209:
 1849              	.LFB79:
 446:Drivers/NRF24/nrf24.c **** 
 447:Drivers/NRF24/nrf24.c **** static nRF24_RXResult nRF24_ReadPayloadGeneric(uint8_t *pBuf, uint8_t *length, uint8_t dpl) {
 1850              		.loc 1 447 93 is_stmt 1 view -0
 1851              		.cfi_startproc
 1852              		@ args = 0, pretend = 0, frame = 0
 1853              		@ frame_needed = 0, uses_anonymous_args = 0
 1854              		.loc 1 447 93 is_stmt 0 view .LVU406
 1855 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1856              		.cfi_def_cfa_offset 24
 1857              		.cfi_offset 3, -24
 1858              		.cfi_offset 4, -20
 1859              		.cfi_offset 5, -16
 1860              		.cfi_offset 6, -12
 1861              		.cfi_offset 7, -8
 1862              		.cfi_offset 14, -4
 1863 0002 0600     		movs	r6, r0
 1864 0004 0F00     		movs	r7, r1
 1865 0006 1500     		movs	r5, r2
 448:Drivers/NRF24/nrf24.c **** 	uint8_t pipe;
 1866              		.loc 1 448 2 is_stmt 1 view .LVU407
 449:Drivers/NRF24/nrf24.c **** 
 450:Drivers/NRF24/nrf24.c **** 	// Extract a payload pipe number from the STATUS register
 451:Drivers/NRF24/nrf24.c **** 	pipe = (nRF24_ReadReg(nRF24_REG_STATUS) & nRF24_MASK_RX_P_NO) >> 1;
 1867              		.loc 1 451 2 view .LVU408
 1868              		.loc 1 451 10 is_stmt 0 view .LVU409
 1869 0008 0720     		movs	r0, #7
 1870              	.LVL210:
 1871              		.loc 1 451 10 view .LVU410
 1872 000a FFF7FEFF 		bl	nRF24_ReadReg
 1873              	.LVL211:
 1874              		.loc 1 451 64 discriminator 1 view .LVU411
 1875 000e 4410     		asrs	r4, r0, #1
 1876              		.loc 1 451 7 discriminator 1 view .LVU412
 1877 0010 0723     		movs	r3, #7
 1878 0012 1C40     		ands	r4, r3
 1879              	.LVL212:
 452:Drivers/NRF24/nrf24.c **** 
 453:Drivers/NRF24/nrf24.c **** 	// RX FIFO empty?
 454:Drivers/NRF24/nrf24.c **** 	if (pipe < 6) {
 1880              		.loc 1 454 2 is_stmt 1 view .LVU413
 1881              		.loc 1 454 5 is_stmt 0 view .LVU414
 1882 0014 052C     		cmp	r4, #5
 1883 0016 04D9     		bls	.L76
 455:Drivers/NRF24/nrf24.c **** 		// Get payload length
 456:Drivers/NRF24/nrf24.c **** 		if(dpl) {
 457:Drivers/NRF24/nrf24.c **** 			*length = nRF24_GetRxDplPayloadWidth();
 458:Drivers/NRF24/nrf24.c **** 			if(*length>32) { //broken packet
 459:Drivers/NRF24/nrf24.c **** 				*length = 0;
 460:Drivers/NRF24/nrf24.c **** 				nRF24_FlushRX();
ARM GAS  /tmp/ccSBQZez.s 			page 48


 461:Drivers/NRF24/nrf24.c **** 			}
 462:Drivers/NRF24/nrf24.c **** 		} else {
 463:Drivers/NRF24/nrf24.c **** 			*length = nRF24_ReadReg(nRF24_RX_PW_PIPE[pipe]);
 464:Drivers/NRF24/nrf24.c **** 		}
 465:Drivers/NRF24/nrf24.c **** 
 466:Drivers/NRF24/nrf24.c **** 		// Read a payload from the RX FIFO
 467:Drivers/NRF24/nrf24.c **** 		if (*length) {
 468:Drivers/NRF24/nrf24.c **** 			nRF24_ReadMBReg(nRF24_CMD_R_RX_PAYLOAD, pBuf, *length);
 469:Drivers/NRF24/nrf24.c **** 		}
 470:Drivers/NRF24/nrf24.c **** 
 471:Drivers/NRF24/nrf24.c **** 		return ((nRF24_RXResult)pipe);
 472:Drivers/NRF24/nrf24.c **** 	}
 473:Drivers/NRF24/nrf24.c **** 
 474:Drivers/NRF24/nrf24.c **** 	// The RX FIFO is empty
 475:Drivers/NRF24/nrf24.c **** 	*length = 0;
 1884              		.loc 1 475 2 is_stmt 1 view .LVU415
 1885              		.loc 1 475 10 is_stmt 0 view .LVU416
 1886 0018 0023     		movs	r3, #0
 1887 001a 3B70     		strb	r3, [r7]
 476:Drivers/NRF24/nrf24.c **** 
 477:Drivers/NRF24/nrf24.c **** 	return nRF24_RX_EMPTY;
 1888              		.loc 1 477 2 is_stmt 1 view .LVU417
 1889              		.loc 1 477 9 is_stmt 0 view .LVU418
 1890 001c FF24     		movs	r4, #255
 1891              	.LVL213:
 1892              	.L75:
 478:Drivers/NRF24/nrf24.c **** }
 1893              		.loc 1 478 1 view .LVU419
 1894 001e 2000     		movs	r0, r4
 1895              		@ sp needed
 1896              	.LVL214:
 1897              	.LVL215:
 1898              	.LVL216:
 1899              		.loc 1 478 1 view .LVU420
 1900 0020 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1901              	.LVL217:
 1902              	.L76:
 456:Drivers/NRF24/nrf24.c **** 			*length = nRF24_GetRxDplPayloadWidth();
 1903              		.loc 1 456 3 is_stmt 1 view .LVU421
 456:Drivers/NRF24/nrf24.c **** 			*length = nRF24_GetRxDplPayloadWidth();
 1904              		.loc 1 456 5 is_stmt 0 view .LVU422
 1905 0022 002D     		cmp	r5, #0
 1906 0024 09D0     		beq	.L72
 457:Drivers/NRF24/nrf24.c **** 			if(*length>32) { //broken packet
 1907              		.loc 1 457 4 is_stmt 1 view .LVU423
 457:Drivers/NRF24/nrf24.c **** 			if(*length>32) { //broken packet
 1908              		.loc 1 457 14 is_stmt 0 view .LVU424
 1909 0026 FFF7FEFF 		bl	nRF24_GetRxDplPayloadWidth
 1910              	.LVL218:
 457:Drivers/NRF24/nrf24.c **** 			if(*length>32) { //broken packet
 1911              		.loc 1 457 12 discriminator 1 view .LVU425
 1912 002a 3870     		strb	r0, [r7]
 458:Drivers/NRF24/nrf24.c **** 				*length = 0;
 1913              		.loc 1 458 4 is_stmt 1 view .LVU426
 458:Drivers/NRF24/nrf24.c **** 				*length = 0;
 1914              		.loc 1 458 6 is_stmt 0 view .LVU427
 1915 002c 2028     		cmp	r0, #32
ARM GAS  /tmp/ccSBQZez.s 			page 49


 1916 002e 09D9     		bls	.L73
 459:Drivers/NRF24/nrf24.c **** 				nRF24_FlushRX();
 1917              		.loc 1 459 5 is_stmt 1 view .LVU428
 459:Drivers/NRF24/nrf24.c **** 				nRF24_FlushRX();
 1918              		.loc 1 459 13 is_stmt 0 view .LVU429
 1919 0030 0023     		movs	r3, #0
 1920 0032 3B70     		strb	r3, [r7]
 460:Drivers/NRF24/nrf24.c **** 			}
 1921              		.loc 1 460 5 is_stmt 1 view .LVU430
 1922 0034 FFF7FEFF 		bl	nRF24_FlushRX
 1923              	.LVL219:
 1924 0038 04E0     		b	.L73
 1925              	.L72:
 463:Drivers/NRF24/nrf24.c **** 		}
 1926              		.loc 1 463 4 view .LVU431
 463:Drivers/NRF24/nrf24.c **** 		}
 1927              		.loc 1 463 44 is_stmt 0 view .LVU432
 1928 003a 064B     		ldr	r3, .L77
 1929 003c 185D     		ldrb	r0, [r3, r4]
 463:Drivers/NRF24/nrf24.c **** 		}
 1930              		.loc 1 463 14 view .LVU433
 1931 003e FFF7FEFF 		bl	nRF24_ReadReg
 1932              	.LVL220:
 463:Drivers/NRF24/nrf24.c **** 		}
 1933              		.loc 1 463 12 discriminator 1 view .LVU434
 1934 0042 3870     		strb	r0, [r7]
 1935              	.L73:
 467:Drivers/NRF24/nrf24.c **** 			nRF24_ReadMBReg(nRF24_CMD_R_RX_PAYLOAD, pBuf, *length);
 1936              		.loc 1 467 3 is_stmt 1 view .LVU435
 467:Drivers/NRF24/nrf24.c **** 			nRF24_ReadMBReg(nRF24_CMD_R_RX_PAYLOAD, pBuf, *length);
 1937              		.loc 1 467 7 is_stmt 0 view .LVU436
 1938 0044 3A78     		ldrb	r2, [r7]
 467:Drivers/NRF24/nrf24.c **** 			nRF24_ReadMBReg(nRF24_CMD_R_RX_PAYLOAD, pBuf, *length);
 1939              		.loc 1 467 6 view .LVU437
 1940 0046 002A     		cmp	r2, #0
 1941 0048 E9D0     		beq	.L75
 468:Drivers/NRF24/nrf24.c **** 		}
 1942              		.loc 1 468 4 is_stmt 1 view .LVU438
 1943 004a 3100     		movs	r1, r6
 1944 004c 6120     		movs	r0, #97
 1945 004e FFF7FEFF 		bl	nRF24_ReadMBReg
 1946              	.LVL221:
 471:Drivers/NRF24/nrf24.c **** 	}
 1947              		.loc 1 471 3 view .LVU439
 471:Drivers/NRF24/nrf24.c **** 	}
 1948              		.loc 1 471 11 is_stmt 0 view .LVU440
 1949 0052 E4E7     		b	.L75
 1950              	.L78:
 1951              		.align	2
 1952              	.L77:
 1953 0054 00000000 		.word	nRF24_RX_PW_PIPE
 1954              		.cfi_endproc
 1955              	.LFE79:
 1957              		.section	.text.nRF24_ClearIRQFlags,"ax",%progbits
 1958              		.align	1
 1959              		.global	nRF24_ClearIRQFlags
 1960              		.syntax unified
ARM GAS  /tmp/ccSBQZez.s 			page 50


 1961              		.code	16
 1962              		.thumb_func
 1964              	nRF24_ClearIRQFlags:
 1965              	.LFB76:
 418:Drivers/NRF24/nrf24.c **** 	uint8_t reg;
 1966              		.loc 1 418 32 is_stmt 1 view -0
 1967              		.cfi_startproc
 1968              		@ args = 0, pretend = 0, frame = 0
 1969              		@ frame_needed = 0, uses_anonymous_args = 0
 1970 0000 10B5     		push	{r4, lr}
 1971              		.cfi_def_cfa_offset 8
 1972              		.cfi_offset 4, -8
 1973              		.cfi_offset 14, -4
 419:Drivers/NRF24/nrf24.c **** 
 1974              		.loc 1 419 2 view .LVU442
 422:Drivers/NRF24/nrf24.c **** 	reg |= nRF24_MASK_STATUS_IRQ;
 1975              		.loc 1 422 2 view .LVU443
 422:Drivers/NRF24/nrf24.c **** 	reg |= nRF24_MASK_STATUS_IRQ;
 1976              		.loc 1 422 9 is_stmt 0 view .LVU444
 1977 0002 0720     		movs	r0, #7
 1978 0004 FFF7FEFF 		bl	nRF24_ReadReg
 1979              	.LVL222:
 423:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_STATUS, reg);
 1980              		.loc 1 423 2 is_stmt 1 view .LVU445
 423:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_STATUS, reg);
 1981              		.loc 1 423 6 is_stmt 0 view .LVU446
 1982 0008 7023     		movs	r3, #112
 1983 000a 1843     		orrs	r0, r3
 1984              	.LVL223:
 423:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_STATUS, reg);
 1985              		.loc 1 423 6 view .LVU447
 1986 000c C1B2     		uxtb	r1, r0
 1987              	.LVL224:
 424:Drivers/NRF24/nrf24.c **** }
 1988              		.loc 1 424 2 is_stmt 1 view .LVU448
 1989 000e 0720     		movs	r0, #7
 1990 0010 FFF7FEFF 		bl	nRF24_WriteReg
 1991              	.LVL225:
 425:Drivers/NRF24/nrf24.c **** 
 1992              		.loc 1 425 1 is_stmt 0 view .LVU449
 1993              		@ sp needed
 1994 0014 10BD     		pop	{r4, pc}
 1995              		.cfi_endproc
 1996              	.LFE76:
 1998              		.section	.text.nRF24_Init,"ax",%progbits
 1999              		.align	1
 2000              		.global	nRF24_Init
 2001              		.syntax unified
 2002              		.code	16
 2003              		.thumb_func
 2005              	nRF24_Init:
 2006              	.LFB50:
  72:Drivers/NRF24/nrf24.c **** 	// Write to registers their initial values
 2007              		.loc 1 72 23 is_stmt 1 view -0
 2008              		.cfi_startproc
 2009              		@ args = 0, pretend = 0, frame = 0
 2010              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccSBQZez.s 			page 51


 2011 0000 10B5     		push	{r4, lr}
 2012              		.cfi_def_cfa_offset 8
 2013              		.cfi_offset 4, -8
 2014              		.cfi_offset 14, -4
  74:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_AA, 0x3F);
 2015              		.loc 1 74 2 view .LVU451
 2016 0002 0821     		movs	r1, #8
 2017 0004 0020     		movs	r0, #0
 2018 0006 FFF7FEFF 		bl	nRF24_WriteReg
 2019              	.LVL226:
  75:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_EN_RXADDR, 0x03);
 2020              		.loc 1 75 2 view .LVU452
 2021 000a 3F21     		movs	r1, #63
 2022 000c 0120     		movs	r0, #1
 2023 000e FFF7FEFF 		bl	nRF24_WriteReg
 2024              	.LVL227:
  76:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_AW, 0x03);
 2025              		.loc 1 76 2 view .LVU453
 2026 0012 0321     		movs	r1, #3
 2027 0014 0220     		movs	r0, #2
 2028 0016 FFF7FEFF 		bl	nRF24_WriteReg
 2029              	.LVL228:
  77:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_SETUP_RETR, 0x03);
 2030              		.loc 1 77 2 view .LVU454
 2031 001a 0321     		movs	r1, #3
 2032 001c 0320     		movs	r0, #3
 2033 001e FFF7FEFF 		bl	nRF24_WriteReg
 2034              	.LVL229:
  78:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_CH, 0x02);
 2035              		.loc 1 78 2 view .LVU455
 2036 0022 0321     		movs	r1, #3
 2037 0024 0420     		movs	r0, #4
 2038 0026 FFF7FEFF 		bl	nRF24_WriteReg
 2039              	.LVL230:
  79:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RF_SETUP, 0x0E);
 2040              		.loc 1 79 2 view .LVU456
 2041 002a 0221     		movs	r1, #2
 2042 002c 0520     		movs	r0, #5
 2043 002e FFF7FEFF 		bl	nRF24_WriteReg
 2044              	.LVL231:
  80:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_STATUS, 0x0E);
 2045              		.loc 1 80 2 view .LVU457
 2046 0032 0E21     		movs	r1, #14
 2047 0034 0620     		movs	r0, #6
 2048 0036 FFF7FEFF 		bl	nRF24_WriteReg
 2049              	.LVL232:
  81:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P0, 0x00);
 2050              		.loc 1 81 2 view .LVU458
 2051 003a 0E21     		movs	r1, #14
 2052 003c 0720     		movs	r0, #7
 2053 003e FFF7FEFF 		bl	nRF24_WriteReg
 2054              	.LVL233:
  82:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P1, 0x00);
 2055              		.loc 1 82 2 view .LVU459
 2056 0042 0021     		movs	r1, #0
 2057 0044 1120     		movs	r0, #17
 2058 0046 FFF7FEFF 		bl	nRF24_WriteReg
ARM GAS  /tmp/ccSBQZez.s 			page 52


 2059              	.LVL234:
  83:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P2, 0x00);
 2060              		.loc 1 83 2 view .LVU460
 2061 004a 0021     		movs	r1, #0
 2062 004c 1220     		movs	r0, #18
 2063 004e FFF7FEFF 		bl	nRF24_WriteReg
 2064              	.LVL235:
  84:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P3, 0x00);
 2065              		.loc 1 84 2 view .LVU461
 2066 0052 0021     		movs	r1, #0
 2067 0054 1320     		movs	r0, #19
 2068 0056 FFF7FEFF 		bl	nRF24_WriteReg
 2069              	.LVL236:
  85:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P4, 0x00);
 2070              		.loc 1 85 2 view .LVU462
 2071 005a 0021     		movs	r1, #0
 2072 005c 1420     		movs	r0, #20
 2073 005e FFF7FEFF 		bl	nRF24_WriteReg
 2074              	.LVL237:
  86:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_RX_PW_P5, 0x00);
 2075              		.loc 1 86 2 view .LVU463
 2076 0062 0021     		movs	r1, #0
 2077 0064 1520     		movs	r0, #21
 2078 0066 FFF7FEFF 		bl	nRF24_WriteReg
 2079              	.LVL238:
  87:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_DYNPD, 0x00);
 2080              		.loc 1 87 2 view .LVU464
 2081 006a 0021     		movs	r1, #0
 2082 006c 1620     		movs	r0, #22
 2083 006e FFF7FEFF 		bl	nRF24_WriteReg
 2084              	.LVL239:
  88:Drivers/NRF24/nrf24.c **** 	nRF24_WriteReg(nRF24_REG_FEATURE, 0x00);
 2085              		.loc 1 88 2 view .LVU465
 2086 0072 0021     		movs	r1, #0
 2087 0074 1C20     		movs	r0, #28
 2088 0076 FFF7FEFF 		bl	nRF24_WriteReg
 2089              	.LVL240:
  89:Drivers/NRF24/nrf24.c **** 
 2090              		.loc 1 89 2 view .LVU466
 2091 007a 0021     		movs	r1, #0
 2092 007c 1D20     		movs	r0, #29
 2093 007e FFF7FEFF 		bl	nRF24_WriteReg
 2094              	.LVL241:
  92:Drivers/NRF24/nrf24.c **** 	nRF24_FlushTX();
 2095              		.loc 1 92 2 view .LVU467
 2096 0082 FFF7FEFF 		bl	nRF24_FlushRX
 2097              	.LVL242:
  93:Drivers/NRF24/nrf24.c **** 
 2098              		.loc 1 93 2 view .LVU468
 2099 0086 FFF7FEFF 		bl	nRF24_FlushTX
 2100              	.LVL243:
  96:Drivers/NRF24/nrf24.c **** 
 2101              		.loc 1 96 2 view .LVU469
 2102 008a FFF7FEFF 		bl	nRF24_ClearIRQFlags
 2103              	.LVL244:
  99:Drivers/NRF24/nrf24.c **** }
 2104              		.loc 1 99 2 view .LVU470
ARM GAS  /tmp/ccSBQZez.s 			page 53


 2105              	.LBB60:
 2106              	.LBI60:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 2107              		.loc 2 25 20 view .LVU471
 2108              	.LBB61:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2109              		.loc 2 26 5 view .LVU472
 2110 008e A020     		movs	r0, #160
 2111 0090 0122     		movs	r2, #1
 2112 0092 0221     		movs	r1, #2
 2113 0094 C005     		lsls	r0, r0, #23
 2114 0096 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2115              	.LVL245:
 2116              	.LBE61:
 2117              	.LBE60:
 100:Drivers/NRF24/nrf24.c **** 
 2118              		.loc 1 100 1 is_stmt 0 view .LVU473
 2119              		@ sp needed
 2120 009a 10BD     		pop	{r4, pc}
 2121              		.cfi_endproc
 2122              	.LFE50:
 2124              		.section	.text.nRF24_WritePayload,"ax",%progbits
 2125              		.align	1
 2126              		.global	nRF24_WritePayload
 2127              		.syntax unified
 2128              		.code	16
 2129              		.thumb_func
 2131              	nRF24_WritePayload:
 2132              	.LVL246:
 2133              	.LFB77:
 431:Drivers/NRF24/nrf24.c **** 	nRF24_WriteMBReg(nRF24_CMD_W_TX_PAYLOAD, pBuf, length);
 2134              		.loc 1 431 56 is_stmt 1 view -0
 2135              		.cfi_startproc
 2136              		@ args = 0, pretend = 0, frame = 0
 2137              		@ frame_needed = 0, uses_anonymous_args = 0
 431:Drivers/NRF24/nrf24.c **** 	nRF24_WriteMBReg(nRF24_CMD_W_TX_PAYLOAD, pBuf, length);
 2138              		.loc 1 431 56 is_stmt 0 view .LVU475
 2139 0000 10B5     		push	{r4, lr}
 2140              		.cfi_def_cfa_offset 8
 2141              		.cfi_offset 4, -8
 2142              		.cfi_offset 14, -4
 2143 0002 0A00     		movs	r2, r1
 432:Drivers/NRF24/nrf24.c **** }
 2144              		.loc 1 432 2 is_stmt 1 view .LVU476
 2145 0004 0100     		movs	r1, r0
 2146              	.LVL247:
 432:Drivers/NRF24/nrf24.c **** }
 2147              		.loc 1 432 2 is_stmt 0 view .LVU477
 2148 0006 A020     		movs	r0, #160
 2149              	.LVL248:
 432:Drivers/NRF24/nrf24.c **** }
 2150              		.loc 1 432 2 view .LVU478
 2151 0008 FFF7FEFF 		bl	nRF24_WriteMBReg
 2152              	.LVL249:
 433:Drivers/NRF24/nrf24.c **** 
 2153              		.loc 1 433 1 view .LVU479
 2154              		@ sp needed
ARM GAS  /tmp/ccSBQZez.s 			page 54


 2155 000c 10BD     		pop	{r4, pc}
 2156              		.cfi_endproc
 2157              	.LFE77:
 2159              		.section	.text.nRF24_ReadPayload,"ax",%progbits
 2160              		.align	1
 2161              		.global	nRF24_ReadPayload
 2162              		.syntax unified
 2163              		.code	16
 2164              		.thumb_func
 2166              	nRF24_ReadPayload:
 2167              	.LVL250:
 2168              	.LFB80:
 479:Drivers/NRF24/nrf24.c **** 
 480:Drivers/NRF24/nrf24.c **** // Read top level payload available in the RX FIFO
 481:Drivers/NRF24/nrf24.c **** // input:
 482:Drivers/NRF24/nrf24.c **** //   pBuf - pointer to the buffer to store a payload data
 483:Drivers/NRF24/nrf24.c **** //   length - pointer to variable to store a payload length
 484:Drivers/NRF24/nrf24.c **** // return: one of nRF24_RX_xx values
 485:Drivers/NRF24/nrf24.c **** //   nRF24_RX_PIPEX - packet has been received from the pipe number X
 486:Drivers/NRF24/nrf24.c **** //   nRF24_RX_EMPTY - the RX FIFO is empty
 487:Drivers/NRF24/nrf24.c **** nRF24_RXResult nRF24_ReadPayload(uint8_t *pBuf, uint8_t *length) {
 2169              		.loc 1 487 66 is_stmt 1 view -0
 2170              		.cfi_startproc
 2171              		@ args = 0, pretend = 0, frame = 0
 2172              		@ frame_needed = 0, uses_anonymous_args = 0
 2173              		.loc 1 487 66 is_stmt 0 view .LVU481
 2174 0000 10B5     		push	{r4, lr}
 2175              		.cfi_def_cfa_offset 8
 2176              		.cfi_offset 4, -8
 2177              		.cfi_offset 14, -4
 488:Drivers/NRF24/nrf24.c **** 	return nRF24_ReadPayloadGeneric(pBuf, length,0);
 2178              		.loc 1 488 2 is_stmt 1 view .LVU482
 2179              		.loc 1 488 9 is_stmt 0 view .LVU483
 2180 0002 0022     		movs	r2, #0
 2181 0004 FFF7FEFF 		bl	nRF24_ReadPayloadGeneric
 2182              	.LVL251:
 489:Drivers/NRF24/nrf24.c **** }
 2183              		.loc 1 489 1 view .LVU484
 2184              		@ sp needed
 2185 0008 10BD     		pop	{r4, pc}
 2186              		.cfi_endproc
 2187              	.LFE80:
 2189              		.section	.text.nRF24_ReadPayloadDpl,"ax",%progbits
 2190              		.align	1
 2191              		.global	nRF24_ReadPayloadDpl
 2192              		.syntax unified
 2193              		.code	16
 2194              		.thumb_func
 2196              	nRF24_ReadPayloadDpl:
 2197              	.LVL252:
 2198              	.LFB81:
 490:Drivers/NRF24/nrf24.c **** 
 491:Drivers/NRF24/nrf24.c **** nRF24_RXResult nRF24_ReadPayloadDpl(uint8_t *pBuf, uint8_t *length) {
 2199              		.loc 1 491 69 is_stmt 1 view -0
 2200              		.cfi_startproc
 2201              		@ args = 0, pretend = 0, frame = 0
 2202              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccSBQZez.s 			page 55


 2203              		.loc 1 491 69 is_stmt 0 view .LVU486
 2204 0000 10B5     		push	{r4, lr}
 2205              		.cfi_def_cfa_offset 8
 2206              		.cfi_offset 4, -8
 2207              		.cfi_offset 14, -4
 492:Drivers/NRF24/nrf24.c **** 	return nRF24_ReadPayloadGeneric(pBuf, length,1);
 2208              		.loc 1 492 2 is_stmt 1 view .LVU487
 2209              		.loc 1 492 9 is_stmt 0 view .LVU488
 2210 0002 0122     		movs	r2, #1
 2211 0004 FFF7FEFF 		bl	nRF24_ReadPayloadGeneric
 2212              	.LVL253:
 493:Drivers/NRF24/nrf24.c **** }
 2213              		.loc 1 493 1 view .LVU489
 2214              		@ sp needed
 2215 0008 10BD     		pop	{r4, pc}
 2216              		.cfi_endproc
 2217              	.LFE81:
 2219              		.section	.text.nRF24_GetFeatures,"ax",%progbits
 2220              		.align	1
 2221              		.global	nRF24_GetFeatures
 2222              		.syntax unified
 2223              		.code	16
 2224              		.thumb_func
 2226              	nRF24_GetFeatures:
 2227              	.LFB82:
 494:Drivers/NRF24/nrf24.c **** 
 495:Drivers/NRF24/nrf24.c **** uint8_t nRF24_GetFeatures() {
 2228              		.loc 1 495 29 is_stmt 1 view -0
 2229              		.cfi_startproc
 2230              		@ args = 0, pretend = 0, frame = 0
 2231              		@ frame_needed = 0, uses_anonymous_args = 0
 2232 0000 10B5     		push	{r4, lr}
 2233              		.cfi_def_cfa_offset 8
 2234              		.cfi_offset 4, -8
 2235              		.cfi_offset 14, -4
 496:Drivers/NRF24/nrf24.c ****     return nRF24_ReadReg(nRF24_REG_FEATURE);
 2236              		.loc 1 496 5 view .LVU491
 2237              		.loc 1 496 12 is_stmt 0 view .LVU492
 2238 0002 1D20     		movs	r0, #29
 2239 0004 FFF7FEFF 		bl	nRF24_ReadReg
 2240              	.LVL254:
 497:Drivers/NRF24/nrf24.c **** }
 2241              		.loc 1 497 1 view .LVU493
 2242              		@ sp needed
 2243 0008 10BD     		pop	{r4, pc}
 2244              		.cfi_endproc
 2245              	.LFE82:
 2247              		.section	.text.nRF24_ActivateFeatures,"ax",%progbits
 2248              		.align	1
 2249              		.global	nRF24_ActivateFeatures
 2250              		.syntax unified
 2251              		.code	16
 2252              		.thumb_func
 2254              	nRF24_ActivateFeatures:
 2255              	.LFB83:
 498:Drivers/NRF24/nrf24.c **** void nRF24_ActivateFeatures() {
 2256              		.loc 1 498 31 is_stmt 1 view -0
ARM GAS  /tmp/ccSBQZez.s 			page 56


 2257              		.cfi_startproc
 2258              		@ args = 0, pretend = 0, frame = 0
 2259              		@ frame_needed = 0, uses_anonymous_args = 0
 2260 0000 10B5     		push	{r4, lr}
 2261              		.cfi_def_cfa_offset 8
 2262              		.cfi_offset 4, -8
 2263              		.cfi_offset 14, -4
 499:Drivers/NRF24/nrf24.c ****     nRF24_CSN_L();
 2264              		.loc 1 499 5 view .LVU495
 2265              	.LBB62:
 2266              	.LBI62:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 2267              		.loc 2 20 20 view .LVU496
 2268              	.LBB63:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2269              		.loc 2 21 5 view .LVU497
 2270 0002 A024     		movs	r4, #160
 2271 0004 E405     		lsls	r4, r4, #23
 2272 0006 0022     		movs	r2, #0
 2273 0008 0221     		movs	r1, #2
 2274 000a 2000     		movs	r0, r4
 2275 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 2276              	.LVL255:
 2277              	.LBE63:
 2278              	.LBE62:
 500:Drivers/NRF24/nrf24.c ****     nRF24_LL_RW(nRF24_CMD_ACTIVATE);
 2279              		.loc 1 500 5 view .LVU498
 2280 0010 5020     		movs	r0, #80
 2281 0012 FFF7FEFF 		bl	nRF24_LL_RW
 2282              	.LVL256:
 501:Drivers/NRF24/nrf24.c ****     nRF24_LL_RW(0x73);
 2283              		.loc 1 501 5 view .LVU499
 2284 0016 7320     		movs	r0, #115
 2285 0018 FFF7FEFF 		bl	nRF24_LL_RW
 2286              	.LVL257:
 502:Drivers/NRF24/nrf24.c ****     nRF24_CSN_H();
 2287              		.loc 1 502 5 view .LVU500
 2288              	.LBB64:
 2289              	.LBI64:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 2290              		.loc 2 25 20 view .LVU501
 2291              	.LBB65:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2292              		.loc 2 26 5 view .LVU502
 2293 001c 0122     		movs	r2, #1
 2294 001e 0221     		movs	r1, #2
 2295 0020 2000     		movs	r0, r4
 2296 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2297              	.LVL258:
 2298              	.LBE65:
 2299              	.LBE64:
 503:Drivers/NRF24/nrf24.c **** }
 2300              		.loc 1 503 1 is_stmt 0 view .LVU503
 2301              		@ sp needed
 2302 0026 10BD     		pop	{r4, pc}
 2303              		.cfi_endproc
 2304              	.LFE83:
ARM GAS  /tmp/ccSBQZez.s 			page 57


 2306              		.section	.text.nRF24_WriteAckPayload,"ax",%progbits
 2307              		.align	1
 2308              		.global	nRF24_WriteAckPayload
 2309              		.syntax unified
 2310              		.code	16
 2311              		.thumb_func
 2313              	nRF24_WriteAckPayload:
 2314              	.LVL259:
 2315              	.LFB84:
 504:Drivers/NRF24/nrf24.c **** void nRF24_WriteAckPayload(nRF24_RXResult pipe, char *payload, uint8_t length) {
 2316              		.loc 1 504 80 is_stmt 1 view -0
 2317              		.cfi_startproc
 2318              		@ args = 0, pretend = 0, frame = 0
 2319              		@ frame_needed = 0, uses_anonymous_args = 0
 2320              		.loc 1 504 80 is_stmt 0 view .LVU505
 2321 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2322              		.cfi_def_cfa_offset 24
 2323              		.cfi_offset 3, -24
 2324              		.cfi_offset 4, -20
 2325              		.cfi_offset 5, -16
 2326              		.cfi_offset 6, -12
 2327              		.cfi_offset 7, -8
 2328              		.cfi_offset 14, -4
 2329 0002 0400     		movs	r4, r0
 2330 0004 0E00     		movs	r6, r1
 2331 0006 1500     		movs	r5, r2
 505:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_L();
 2332              		.loc 1 505 2 is_stmt 1 view .LVU506
 2333              	.LBB66:
 2334              	.LBI66:
  20:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_RESET);
 2335              		.loc 2 20 20 view .LVU507
 2336              	.LBB67:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2337              		.loc 2 21 5 view .LVU508
 2338 0008 A020     		movs	r0, #160
 2339              	.LVL260:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2340              		.loc 2 21 5 is_stmt 0 view .LVU509
 2341 000a 0022     		movs	r2, #0
 2342              	.LVL261:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2343              		.loc 2 21 5 view .LVU510
 2344 000c 0221     		movs	r1, #2
 2345              	.LVL262:
  21:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2346              		.loc 2 21 5 view .LVU511
 2347 000e C005     		lsls	r0, r0, #23
 2348 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2349              	.LVL263:
 2350              	.LBE67:
 2351              	.LBE66:
 506:Drivers/NRF24/nrf24.c **** 	nRF24_LL_RW(nRF24_CMD_W_ACK_PAYLOAD | pipe);
 2352              		.loc 1 506 2 is_stmt 1 view .LVU512
 2353 0014 5820     		movs	r0, #88
 2354 0016 4042     		rsbs	r0, r0, #0
 2355 0018 2043     		orrs	r0, r4
ARM GAS  /tmp/ccSBQZez.s 			page 58


 2356 001a C0B2     		uxtb	r0, r0
 2357 001c FFF7FEFF 		bl	nRF24_LL_RW
 2358              	.LVL264:
 507:Drivers/NRF24/nrf24.c **** 	while (length--) {
 2359              		.loc 1 507 2 view .LVU513
 2360              		.loc 1 507 8 is_stmt 0 view .LVU514
 2361 0020 05E0     		b	.L87
 2362              	.LVL265:
 2363              	.L88:
 508:Drivers/NRF24/nrf24.c **** 		nRF24_LL_RW((uint8_t) *payload++);
 2364              		.loc 1 508 3 is_stmt 1 view .LVU515
 2365              		.loc 1 508 33 is_stmt 0 view .LVU516
 2366 0022 771C     		adds	r7, r6, #1
 2367              	.LVL266:
 2368              		.loc 1 508 3 view .LVU517
 2369 0024 3078     		ldrb	r0, [r6]
 2370 0026 FFF7FEFF 		bl	nRF24_LL_RW
 2371              	.LVL267:
 507:Drivers/NRF24/nrf24.c **** 	while (length--) {
 2372              		.loc 1 507 15 view .LVU518
 2373 002a 2500     		movs	r5, r4
 2374              		.loc 1 508 33 view .LVU519
 2375 002c 3E00     		movs	r6, r7
 2376              	.LVL268:
 2377              	.L87:
 507:Drivers/NRF24/nrf24.c **** 	while (length--) {
 2378              		.loc 1 507 9 is_stmt 1 view .LVU520
 507:Drivers/NRF24/nrf24.c **** 	while (length--) {
 2379              		.loc 1 507 15 is_stmt 0 view .LVU521
 2380 002e 6C1E     		subs	r4, r5, #1
 2381 0030 E4B2     		uxtb	r4, r4
 2382              	.LVL269:
 507:Drivers/NRF24/nrf24.c **** 	while (length--) {
 2383              		.loc 1 507 9 view .LVU522
 2384 0032 002D     		cmp	r5, #0
 2385 0034 F5D1     		bne	.L88
 509:Drivers/NRF24/nrf24.c **** 	}
 510:Drivers/NRF24/nrf24.c **** 	nRF24_CSN_H();
 2386              		.loc 1 510 2 is_stmt 1 view .LVU523
 2387              	.LBB68:
 2388              	.LBI68:
  25:Core/Inc/NRF24_support.h ****     HAL_GPIO_WritePin(NRF_CSN_GPIO_Port, NRF_CSN_Pin, GPIO_PIN_SET);
 2389              		.loc 2 25 20 view .LVU524
 2390              	.LBB69:
  26:Core/Inc/NRF24_support.h ****     //HAL_Delay(10);
 2391              		.loc 2 26 5 view .LVU525
 2392 0036 A020     		movs	r0, #160
 2393 0038 0122     		movs	r2, #1
 2394 003a 0221     		movs	r1, #2
 2395 003c C005     		lsls	r0, r0, #23
 2396 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2397              	.LVL270:
 2398              	.LBE69:
 2399              	.LBE68:
 511:Drivers/NRF24/nrf24.c **** 
 512:Drivers/NRF24/nrf24.c **** }
 2400              		.loc 1 512 1 is_stmt 0 view .LVU526
ARM GAS  /tmp/ccSBQZez.s 			page 59


 2401              		@ sp needed
 2402              	.LVL271:
 2403              	.LVL272:
 2404              	.LVL273:
 2405              		.loc 1 512 1 view .LVU527
 2406 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2407              		.cfi_endproc
 2408              	.LFE84:
 2410              		.section	.rodata.nRF24_ADDR_REGS,"a"
 2411              		.align	2
 2414              	nRF24_ADDR_REGS:
 2415 0000 0A0B0C0D 		.ascii	"\012\013\014\015\016\017\020"
 2415      0E0F10
 2416              		.section	.rodata.nRF24_RX_PW_PIPE,"a"
 2417              		.align	2
 2420              	nRF24_RX_PW_PIPE:
 2421 0000 11121314 		.ascii	"\021\022\023\024\025\026"
 2421      1516
 2422              		.text
 2423              	.Letext0:
 2424              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
 2425              		.file 4 "/usr/arm-none-eabi/include/sys/_stdint.h"
 2426              		.file 5 "Drivers/CMSIS/Device/ST/STM32L0xx/Include/stm32l031xx.h"
 2427              		.file 6 "Drivers/STM32L0xx_HAL_Driver/Inc/stm32l0xx_hal_def.h"
 2428              		.file 7 "Drivers/STM32L0xx_HAL_Driver/Inc/stm32l0xx_hal_gpio.h"
 2429              		.file 8 "Drivers/STM32L0xx_HAL_Driver/Inc/stm32l0xx_hal_dma.h"
 2430              		.file 9 "Drivers/STM32L0xx_HAL_Driver/Inc/stm32l0xx_hal_spi.h"
 2431              		.file 10 "Drivers/NRF24/nrf24.h"
 2432              		.file 11 "Core/Inc/main.h"
ARM GAS  /tmp/ccSBQZez.s 			page 60


DEFINED SYMBOLS
                            *ABS*:00000000 nrf24.c
     /tmp/ccSBQZez.s:19     .text.nRF24_LL_RW:00000000 $t
     /tmp/ccSBQZez.s:24     .text.nRF24_LL_RW:00000000 nRF24_LL_RW
     /tmp/ccSBQZez.s:84     .text.nRF24_LL_RW:00000030 $d
     /tmp/ccSBQZez.s:89     .text.nRF24_WriteReg:00000000 $t
     /tmp/ccSBQZez.s:94     .text.nRF24_WriteReg:00000000 nRF24_WriteReg
     /tmp/ccSBQZez.s:190    .text.nRF24_WriteMBReg:00000000 $t
     /tmp/ccSBQZez.s:195    .text.nRF24_WriteMBReg:00000000 nRF24_WriteMBReg
     /tmp/ccSBQZez.s:290    .text.nRF24_ReadMBReg:00000000 $t
     /tmp/ccSBQZez.s:295    .text.nRF24_ReadMBReg:00000000 nRF24_ReadMBReg
     /tmp/ccSBQZez.s:392    .text.nRF24_ReadReg:00000000 $t
     /tmp/ccSBQZez.s:397    .text.nRF24_ReadReg:00000000 nRF24_ReadReg
     /tmp/ccSBQZez.s:466    .text.nRF24_GetRxDplPayloadWidth:00000000 $t
     /tmp/ccSBQZez.s:471    .text.nRF24_GetRxDplPayloadWidth:00000000 nRF24_GetRxDplPayloadWidth
     /tmp/ccSBQZez.s:534    .rodata.nRF24_Check.str1.4:00000000 $d
     /tmp/ccSBQZez.s:538    .text.nRF24_Check:00000000 $t
     /tmp/ccSBQZez.s:544    .text.nRF24_Check:00000000 nRF24_Check
     /tmp/ccSBQZez.s:622    .text.nRF24_Check:00000040 $d
     /tmp/ccSBQZez.s:627    .text.nRF24_SetPowerMode:00000000 $t
     /tmp/ccSBQZez.s:633    .text.nRF24_SetPowerMode:00000000 nRF24_SetPowerMode
     /tmp/ccSBQZez.s:694    .text.nRF24_SetOperationalMode:00000000 $t
     /tmp/ccSBQZez.s:700    .text.nRF24_SetOperationalMode:00000000 nRF24_SetOperationalMode
     /tmp/ccSBQZez.s:747    .text.nRF24_SetDynamicPayloadLength:00000000 $t
     /tmp/ccSBQZez.s:753    .text.nRF24_SetDynamicPayloadLength:00000000 nRF24_SetDynamicPayloadLength
     /tmp/ccSBQZez.s:820    .text.nRF24_SetPayloadWithAck:00000000 $t
     /tmp/ccSBQZez.s:826    .text.nRF24_SetPayloadWithAck:00000000 nRF24_SetPayloadWithAck
     /tmp/ccSBQZez.s:883    .text.nRF24_SetCRCScheme:00000000 $t
     /tmp/ccSBQZez.s:889    .text.nRF24_SetCRCScheme:00000000 nRF24_SetCRCScheme
     /tmp/ccSBQZez.s:936    .text.nRF24_SetRFChannel:00000000 $t
     /tmp/ccSBQZez.s:942    .text.nRF24_SetRFChannel:00000000 nRF24_SetRFChannel
     /tmp/ccSBQZez.s:968    .text.nRF24_SetAutoRetr:00000000 $t
     /tmp/ccSBQZez.s:974    .text.nRF24_SetAutoRetr:00000000 nRF24_SetAutoRetr
     /tmp/ccSBQZez.s:1006   .text.nRF24_SetAddrWidth:00000000 $t
     /tmp/ccSBQZez.s:1012   .text.nRF24_SetAddrWidth:00000000 nRF24_SetAddrWidth
     /tmp/ccSBQZez.s:1041   .text.nRF24_SetAddr:00000000 $t
     /tmp/ccSBQZez.s:1047   .text.nRF24_SetAddr:00000000 nRF24_SetAddr
     /tmp/ccSBQZez.s:1176   .text.nRF24_SetAddr:0000006c $d
     /tmp/ccSBQZez.s:2414   .rodata.nRF24_ADDR_REGS:00000000 nRF24_ADDR_REGS
     /tmp/ccSBQZez.s:1181   .text.nRF24_SetTXPower:00000000 $t
     /tmp/ccSBQZez.s:1187   .text.nRF24_SetTXPower:00000000 nRF24_SetTXPower
     /tmp/ccSBQZez.s:1232   .text.nRF24_SetDataRate:00000000 $t
     /tmp/ccSBQZez.s:1238   .text.nRF24_SetDataRate:00000000 nRF24_SetDataRate
     /tmp/ccSBQZez.s:1283   .text.nRF24_SetRXPipe:00000000 $t
     /tmp/ccSBQZez.s:1289   .text.nRF24_SetRXPipe:00000000 nRF24_SetRXPipe
     /tmp/ccSBQZez.s:1394   .text.nRF24_SetRXPipe:0000005c $d
     /tmp/ccSBQZez.s:2420   .rodata.nRF24_RX_PW_PIPE:00000000 nRF24_RX_PW_PIPE
     /tmp/ccSBQZez.s:1399   .text.nRF24_ClosePipe:00000000 $t
     /tmp/ccSBQZez.s:1405   .text.nRF24_ClosePipe:00000000 nRF24_ClosePipe
     /tmp/ccSBQZez.s:1453   .text.nRF24_EnableAA:00000000 $t
     /tmp/ccSBQZez.s:1459   .text.nRF24_EnableAA:00000000 nRF24_EnableAA
     /tmp/ccSBQZez.s:1503   .text.nRF24_DisableAA:00000000 $t
     /tmp/ccSBQZez.s:1509   .text.nRF24_DisableAA:00000000 nRF24_DisableAA
     /tmp/ccSBQZez.s:1569   .text.nRF24_GetStatus:00000000 $t
     /tmp/ccSBQZez.s:1575   .text.nRF24_GetStatus:00000000 nRF24_GetStatus
     /tmp/ccSBQZez.s:1597   .text.nRF24_GetIRQFlags:00000000 $t
     /tmp/ccSBQZez.s:1603   .text.nRF24_GetIRQFlags:00000000 nRF24_GetIRQFlags
ARM GAS  /tmp/ccSBQZez.s 			page 61


     /tmp/ccSBQZez.s:1628   .text.nRF24_GetStatus_RXFIFO:00000000 $t
     /tmp/ccSBQZez.s:1634   .text.nRF24_GetStatus_RXFIFO:00000000 nRF24_GetStatus_RXFIFO
     /tmp/ccSBQZez.s:1659   .text.nRF24_GetStatus_TXFIFO:00000000 $t
     /tmp/ccSBQZez.s:1665   .text.nRF24_GetStatus_TXFIFO:00000000 nRF24_GetStatus_TXFIFO
     /tmp/ccSBQZez.s:1691   .text.nRF24_GetRXSource:00000000 $t
     /tmp/ccSBQZez.s:1697   .text.nRF24_GetRXSource:00000000 nRF24_GetRXSource
     /tmp/ccSBQZez.s:1723   .text.nRF24_GetRetransmitCounters:00000000 $t
     /tmp/ccSBQZez.s:1729   .text.nRF24_GetRetransmitCounters:00000000 nRF24_GetRetransmitCounters
     /tmp/ccSBQZez.s:1751   .text.nRF24_ResetPLOS:00000000 $t
     /tmp/ccSBQZez.s:1757   .text.nRF24_ResetPLOS:00000000 nRF24_ResetPLOS
     /tmp/ccSBQZez.s:1786   .text.nRF24_FlushTX:00000000 $t
     /tmp/ccSBQZez.s:1792   .text.nRF24_FlushTX:00000000 nRF24_FlushTX
     /tmp/ccSBQZez.s:1814   .text.nRF24_FlushRX:00000000 $t
     /tmp/ccSBQZez.s:1820   .text.nRF24_FlushRX:00000000 nRF24_FlushRX
     /tmp/ccSBQZez.s:1842   .text.nRF24_ReadPayloadGeneric:00000000 $t
     /tmp/ccSBQZez.s:1847   .text.nRF24_ReadPayloadGeneric:00000000 nRF24_ReadPayloadGeneric
     /tmp/ccSBQZez.s:1953   .text.nRF24_ReadPayloadGeneric:00000054 $d
     /tmp/ccSBQZez.s:1958   .text.nRF24_ClearIRQFlags:00000000 $t
     /tmp/ccSBQZez.s:1964   .text.nRF24_ClearIRQFlags:00000000 nRF24_ClearIRQFlags
     /tmp/ccSBQZez.s:1999   .text.nRF24_Init:00000000 $t
     /tmp/ccSBQZez.s:2005   .text.nRF24_Init:00000000 nRF24_Init
     /tmp/ccSBQZez.s:2125   .text.nRF24_WritePayload:00000000 $t
     /tmp/ccSBQZez.s:2131   .text.nRF24_WritePayload:00000000 nRF24_WritePayload
     /tmp/ccSBQZez.s:2160   .text.nRF24_ReadPayload:00000000 $t
     /tmp/ccSBQZez.s:2166   .text.nRF24_ReadPayload:00000000 nRF24_ReadPayload
     /tmp/ccSBQZez.s:2190   .text.nRF24_ReadPayloadDpl:00000000 $t
     /tmp/ccSBQZez.s:2196   .text.nRF24_ReadPayloadDpl:00000000 nRF24_ReadPayloadDpl
     /tmp/ccSBQZez.s:2220   .text.nRF24_GetFeatures:00000000 $t
     /tmp/ccSBQZez.s:2226   .text.nRF24_GetFeatures:00000000 nRF24_GetFeatures
     /tmp/ccSBQZez.s:2248   .text.nRF24_ActivateFeatures:00000000 $t
     /tmp/ccSBQZez.s:2254   .text.nRF24_ActivateFeatures:00000000 nRF24_ActivateFeatures
     /tmp/ccSBQZez.s:2307   .text.nRF24_WriteAckPayload:00000000 $t
     /tmp/ccSBQZez.s:2313   .text.nRF24_WriteAckPayload:00000000 nRF24_WriteAckPayload
     /tmp/ccSBQZez.s:2411   .rodata.nRF24_ADDR_REGS:00000000 $d
     /tmp/ccSBQZez.s:2417   .rodata.nRF24_RX_PW_PIPE:00000000 $d

UNDEFINED SYMBOLS
HAL_SPI_TransmitReceive
Error_Handler
hspi1
HAL_GPIO_WritePin
